/*
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
!function(){function t(t,e,r,i,n,s){function a(t,e){var r,i,n,s,a,o;for(n=t,o=0;8>o;o++){if(s=l(n)-t,R(s)<e)return n;if(a=(3*h*n+2*u)*n+c,R(a)<1e-6)break;n-=s/a}if(r=0,i=1,n=t,r>n)return r;if(n>i)return i;for(;i>r;){if(s=l(n),R(s-t)<e)return n;t>s?r=n:i=n,n=(i-r)/2+r}return n}function o(t,e){var r=a(t,e);return((d*r+p)*r+f)*r}function l(t){return((h*t+u)*t+c)*t}var c=3*e,u=3*(i-e)-c,h=1-c-u,f=3*r,p=3*(n-r)-f,d=1-f-p;return o(t,1/(200*s))}function e(t){return function(e,r,i,n){var a={back:t};return s.is(i,"function")?n=i:a.rot=i,e&&e.constructor==$e&&(e=e.attrs.path),e&&(a.along=e),this.animate(a,r,n)}}function r(){return this.x+_+this.y}function i(t,e,r){function i(){var n=Array[h].slice.call(arguments,0),s=n[B]("►"),a=i.cache=i.cache||{},o=i.count=i.count||[];return a[f](s)?r?r(a[s]):a[s]:(o[A]>=1e3&&delete a[o.shift()],o[$](s),a[s]=t[y](e,n),r?r(a[s]):a[s])}return i}function n(){for(var t=[],e=0;32>e;e++)t[e]=(~~(16*S.random()))[L](16);return t[12]=4,t[16]=(3&t[16]|8)[L](16),"r-"+t[B]("")}function s(){if(s.is(arguments[0],I)){for(var t=arguments[0],e=Ze[y](s,t.splice(0,3+s.is(t[0],z))),r=e.set(),i=0,n=t[A];n>i;i++){var a=t[i]||{};c[f](a.type)&&r[$](e[a.type]().attr(a))}return r}return Ze[y](s,arguments)}function a(t,e,r,i,n){return n?s.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+n,e,r-2*n,n,-n,i-2*n,2*n-r,2*n-i):s.format("M{0},{1}l{2},0,0,{3},{4},0z",t,e,r,i,-r)}s.version="1.5.2";var o,l=/[, ]+/,c={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},u=/\{(\d+)\}/g,h="prototype",f="hasOwnProperty",p=document,d=window,g={was:Object[h][f].call(d,"Raphael"),is:d.Raphael},v=function(){this.customAttributes={}},m="appendChild",y="apply",x="concat",b="createTouch"in p,w="",_=" ",k=String,C="split",T="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[C](_),E={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B="join",A="length",N=k[h].toLowerCase,S=Math,M=S.max,q=S.min,R=S.abs,P=S.pow,j=S.PI,z="number",O="string",I="array",L="toString",G="fill",F=Object[h][L],$="push",D=/^url\(['"]?([^\)]+?)['"]?\)$/i,W=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,Y={NaN:1,Infinity:1,"-Infinity":1},H=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,V=S.round,X="setAttribute",U=parseFloat,Z=parseInt,Q=" progid:DXImageTransform.Microsoft",J=k[h].toUpperCase,K={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},te={along:"along",blur:z,"clip-rect":"csv",cx:z,cy:z,fill:"colour","fill-opacity":z,"font-size":z,height:z,opacity:z,path:"path",r:z,rotation:"csv",rx:z,ry:z,scale:"csv",stroke:"colour","stroke-opacity":z,"stroke-width":z,translation:"csv",width:z,x:z,y:z},ee="replace",re=/^(from|to|\d+%?)$/,ie=/\s*,\s*/,ne={hs:1,rg:1},se=/,?([achlmqrstvxz]),?/gi,ae=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,oe=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,le=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ce=function(t,e){return t.key-e.key};if(s.type=d.SVGAngle||p.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==s.type){var ue,he=p.createElement("div");if(he.innerHTML='<v:shape adj="1"/>',ue=he.firstChild,ue.style.behavior="url(#default#VML)",!ue||"object"!=typeof ue.adj)return s.type=null;he=null}s.svg=!(s.vml="VML"==s.type),v[h]=s[h],o=v[h],s._id=0,s._oid=0,s.fn={},s.is=function(t,e){return e=N.call(e),"finite"==e?!Y[f](+t):"null"==e&&null===t||e==typeof t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||F.call(t).slice(8,-1).toLowerCase()==e},s.angle=function(t,e,r,i,n,a){if(null==n){var o=t-r,l=e-i;return o||l?(180*(0>o)+180*S.atan(-l/-o)/j+360)%360:0}return s.angle(t,e,n,a)-s.angle(r,i,n,a)},s.rad=function(t){return t%360*j/180},s.deg=function(t){return 180*t/j%360},s.snapTo=function(t,e,r){if(r=s.is(r,"finite")?r:10,s.is(t,I)){for(var i=t.length;i--;)if(R(t[i]-e)<=r)return t[i]}else{t=+t;var n=e%t;if(r>n)return e-n;if(n>t-r)return e-n+t}return e},s.setWindow=function(t){d=t,p=d.document};var fe=function(t){if(s.vml){var e,r=/^\s+|\s+$/g;try{var n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),e=n.body}catch(a){e=createPopup().document.body}var o=e.createTextRange();fe=i(function(t){try{e.style.color=k(t)[ee](r,w);var i=o.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i[L](16)).slice(-6)}catch(n){return"none"}})}else{var l=p.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",p.body[m](l),fe=i(function(t){return l.style.color=t,p.defaultView.getComputedStyle(l,w).getPropertyValue("color")})}return fe(t)},pe=function(){return"hsb("+[this.h,this.s,this.b]+")"},de=function(){return"hsl("+[this.h,this.s,this.l]+")"},ge=function(){return this.hex};s.hsb2rgb=function(t,e,r,i){return s.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,t=t.h,i=t.o),s.hsl2rgb(t,e,r/2,i)},s.hsl2rgb=function(t,e,r,i){s.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100);var n,a,o,l={},c=["r","g","b"];if(e){n=.5>r?r*(1+e):r+e-r*e,a=2*r-n;for(var u=0;3>u;u++)o=t+1/3*-(u-1),0>o&&o++,o>1&&o--,l[c[u]]=1>6*o?a+6*(n-a)*o:1>2*o?n:2>3*o?a+(n-a)*(2/3-o)*6:a}else l={r:r,g:r,b:r};return l.r*=255,l.g*=255,l.b*=255,l.hex="#"+(16777216|l.b|l.g<<8|l.r<<16).toString(16).slice(1),s.is(i,"finite")&&(l.opacity=i),l.toString=ge,l},s.rgb2hsb=function(t,e,r){if(null==e&&s.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&s.is(t,O)){var i=s.getRGB(t);t=i.r,e=i.g,r=i.b}(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255);var n,a,o=M(t,e,r),l=q(t,e,r),c=o;if(l==o)return{h:0,s:0,b:o,toString:pe};var u=o-l;return a=u/o,n=t==o?(e-r)/u:e==o?2+(r-t)/u:4+(t-e)/u,n/=6,0>n&&n++,n>1&&n--,{h:n,s:a,b:c,toString:pe}},s.rgb2hsl=function(t,e,r){if(null==e&&s.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&s.is(t,O)){var i=s.getRGB(t);t=i.r,e=i.g,r=i.b}(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255);var n,a,o,l=M(t,e,r),c=q(t,e,r),u=(l+c)/2;if(c==l)o={h:0,s:0,l:u};else{var h=l-c;a=.5>u?h/(l+c):h/(2-l-c),n=t==l?(e-r)/h:e==l?2+(r-t)/h:4+(t-e)/h,n/=6,0>n&&n++,n>1&&n--,o={h:n,s:a,l:u}}return o.toString=de,o},s._path2string=function(){return this.join(",")[ee](se,"$1")},s.getRGB=i(function(t){if(!t||(t=k(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none"};!ne[f](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=fe(t));var e,r,i,n,a,o,l=t.match(W);return l?(l[2]&&(i=Z(l[2].substring(5),16),r=Z(l[2].substring(3,5),16),e=Z(l[2].substring(1,3),16)),l[3]&&(i=Z((a=l[3].charAt(3))+a,16),r=Z((a=l[3].charAt(2))+a,16),e=Z((a=l[3].charAt(1))+a,16)),l[4]&&(o=l[4][C](ie),e=U(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),r=U(o[1]),"%"==o[1].slice(-1)&&(r*=2.55),i=U(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(n=U(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100)),l[5]?(o=l[5][C](ie),e=U(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),r=U(o[1]),"%"==o[1].slice(-1)&&(r*=2.55),i=U(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(e/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(n=U(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),s.hsb2rgb(e,r,i,n)):l[6]?(o=l[6][C](ie),e=U(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),r=U(o[1]),"%"==o[1].slice(-1)&&(r*=2.55),i=U(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(e/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(n=U(o[3])),o[3]&&"%"==o[3].slice(-1)&&(n/=100),s.hsl2rgb(e,r,i,n)):(l={r:e,g:r,b:i},l.hex="#"+(16777216|i|r<<8|e<<16).toString(16).slice(1),s.is(n,"finite")&&(l.opacity=n),l)):{r:-1,g:-1,b:-1,hex:"none",error:1}},s),s.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},s.getColor.reset=function(){delete this.start},s.parsePathString=i(function(t){if(!t)return null;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return s.is(t,I)&&s.is(t[0],I)&&(r=me(t)),r[A]||k(t)[ee](ae,function(t,i,n){var s=[],a=N.call(i);for(n[ee](oe,function(t,e){e&&s[$](+e)}),"m"==a&&s[A]>2&&(r[$]([i][x](s.splice(0,2))),a="l",i="m"==i?"l":"L");s[A]>=e[a]&&(r[$]([i][x](s.splice(0,e[a]))),e[a]););}),r[L]=s._path2string,r}),s.findDotsAtSegment=function(t,e,r,i,n,s,a,o,l){var c=1-l,u=P(c,3)*t+3*P(c,2)*l*r+3*c*l*l*n+P(l,3)*a,h=P(c,3)*e+3*P(c,2)*l*i+3*c*l*l*s+P(l,3)*o,f=t+2*l*(r-t)+l*l*(n-2*r+t),p=e+2*l*(i-e)+l*l*(s-2*i+e),d=r+2*l*(n-r)+l*l*(a-2*n+r),g=i+2*l*(s-i)+l*l*(o-2*s+i),v=(1-l)*t+l*r,m=(1-l)*e+l*i,y=(1-l)*n+l*a,x=(1-l)*s+l*o,b=90-180*S.atan((f-d)/(p-g))/j;return(f>d||g>p)&&(b+=180),{x:u,y:h,m:{x:f,y:p},n:{x:d,y:g},start:{x:v,y:m},end:{x:y,y:x},alpha:b}};var ve=i(function(t){if(!t)return{x:0,y:0,width:0,height:0};t=Te(t);for(var e,r=0,i=0,n=[],s=[],a=0,o=t[A];o>a;a++)if(e=t[a],"M"==e[0])r=e[1],i=e[2],n[$](r),s[$](i);else{var l=Ce(r,i,e[1],e[2],e[3],e[4],e[5],e[6]);n=n[x](l.min.x,l.max.x),s=s[x](l.min.y,l.max.y),r=e[5],i=e[6]}var c=q[y](0,n),u=q[y](0,s);return{x:c,y:u,width:M[y](0,n)-c,height:M[y](0,s)-u}}),me=function(t){var e=[];s.is(t,I)&&s.is(t&&t[0],I)||(t=s.parsePathString(t));for(var r=0,i=t[A];i>r;r++){e[r]=[];for(var n=0,a=t[r][A];a>n;n++)e[r][n]=t[r][n]}return e[L]=s._path2string,e},ye=i(function(t){s.is(t,I)&&s.is(t&&t[0],I)||(t=s.parsePathString(t));var e=[],r=0,i=0,n=0,a=0,o=0;"M"==t[0][0]&&(r=t[0][1],i=t[0][2],n=r,a=i,o++,e[$](["M",r,i]));for(var l=o,c=t[A];c>l;l++){var u=e[l]=[],h=t[l];if(h[0]!=N.call(h[0]))switch(u[0]=N.call(h[0]),u[0]){case"a":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]-r).toFixed(3),u[7]=+(h[7]-i).toFixed(3);break;case"v":u[1]=+(h[1]-i).toFixed(3);break;case"m":n=h[1],a=h[2];default:for(var f=1,p=h[A];p>f;f++)u[f]=+(h[f]-(f%2?r:i)).toFixed(3)}else{u=e[l]=[],"m"==h[0]&&(n=h[1]+r,a=h[2]+i);for(var d=0,g=h[A];g>d;d++)e[l][d]=h[d]}var v=e[l][A];switch(e[l][0]){case"z":r=n,i=a;break;case"h":r+=+e[l][v-1];break;case"v":i+=+e[l][v-1];break;default:r+=+e[l][v-2],i+=+e[l][v-1]}}return e[L]=s._path2string,e},0,me),xe=i(function(t){s.is(t,I)&&s.is(t&&t[0],I)||(t=s.parsePathString(t));var e=[],r=0,i=0,n=0,a=0,o=0;"M"==t[0][0]&&(r=+t[0][1],i=+t[0][2],n=r,a=i,o++,e[0]=["M",r,i]);for(var l=o,c=t[A];c>l;l++){var u=e[l]=[],h=t[l];if(h[0]!=J.call(h[0]))switch(u[0]=J.call(h[0]),u[0]){case"A":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+(h[6]+r),u[7]=+(h[7]+i);break;case"V":u[1]=+h[1]+i;break;case"H":u[1]=+h[1]+r;break;case"M":n=+h[1]+r,a=+h[2]+i;default:for(var f=1,p=h[A];p>f;f++)u[f]=+h[f]+(f%2?r:i)}else for(var d=0,g=h[A];g>d;d++)e[l][d]=h[d];switch(u[0]){case"Z":r=n,i=a;break;case"H":r=u[1];break;case"V":i=u[1];break;case"M":n=e[l][e[l][A]-2],a=e[l][e[l][A]-1];default:r=e[l][e[l][A]-2],i=e[l][e[l][A]-1]}}return e[L]=s._path2string,e},null,me),be=function(t,e,r,i){return[t,e,r,i,r,i]},we=function(t,e,r,i,n,s){var a=1/3,o=2/3;return[a*t+o*r,a*e+o*i,a*n+o*r,a*s+o*i,n,s]},_e=function(t,e,r,n,s,a,o,l,c,u){var h,f=120*j/180,p=j/180*(+s||0),d=[],g=i(function(t,e,r){var i=t*S.cos(r)-e*S.sin(r),n=t*S.sin(r)+e*S.cos(r);return{x:i,y:n}});if(u)E=u[0],N=u[1],k=u[2],T=u[3];else{h=g(t,e,-p),t=h.x,e=h.y,h=g(l,c,-p),l=h.x,c=h.y;var v=(S.cos(j/180*s),S.sin(j/180*s),(t-l)/2),m=(e-c)/2,y=v*v/(r*r)+m*m/(n*n);y>1&&(y=S.sqrt(y),r=y*r,n=y*n);var b=r*r,w=n*n,_=(a==o?-1:1)*S.sqrt(R((b*w-b*m*m-w*v*v)/(b*m*m+w*v*v))),k=_*r*m/n+(t+l)/2,T=_*-n*v/r+(e+c)/2,E=S.asin(((e-T)/n).toFixed(9)),N=S.asin(((c-T)/n).toFixed(9));E=k>t?j-E:E,N=k>l?j-N:N,0>E&&(E=2*j+E),0>N&&(N=2*j+N),o&&E>N&&(E-=2*j),!o&&N>E&&(N-=2*j)}var M=N-E;if(R(M)>f){var q=N,P=l,z=c;N=E+f*(o&&N>E?1:-1),l=k+r*S.cos(N),c=T+n*S.sin(N),d=_e(l,c,r,n,s,0,o,P,z,[N,q,k,T])}M=N-E;var O=S.cos(E),I=S.sin(E),L=S.cos(N),G=S.sin(N),F=S.tan(M/4),$=4/3*r*F,D=4/3*n*F,W=[t,e],Y=[t+$*I,e-D*O],H=[l+$*G,c-D*L],V=[l,c];if(Y[0]=2*W[0]-Y[0],Y[1]=2*W[1]-Y[1],u)return[Y,H,V][x](d);d=[Y,H,V][x](d)[B]()[C](",");for(var X=[],U=0,Z=d[A];Z>U;U++)X[U]=U%2?g(d[U-1],d[U],p).y:g(d[U],d[U+1],p).x;return X},ke=function(t,e,r,i,n,s,a,o,l){var c=1-l;return{x:P(c,3)*t+3*P(c,2)*l*r+3*c*l*l*n+P(l,3)*a,y:P(c,3)*e+3*P(c,2)*l*i+3*c*l*l*s+P(l,3)*o}},Ce=i(function(t,e,r,i,n,s,a,o){var l,c=n-2*r+t-(a-2*n+r),u=2*(r-t)-2*(n-r),h=t-r,f=(-u+S.sqrt(u*u-4*c*h))/2/c,p=(-u-S.sqrt(u*u-4*c*h))/2/c,d=[e,o],g=[t,a];return R(f)>"1e12"&&(f=.5),R(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=ke(t,e,r,i,n,s,a,o,f),g[$](l.x),d[$](l.y)),p>0&&1>p&&(l=ke(t,e,r,i,n,s,a,o,p),g[$](l.x),d[$](l.y)),c=s-2*i+e-(o-2*s+i),u=2*(i-e)-2*(s-i),h=e-i,f=(-u+S.sqrt(u*u-4*c*h))/2/c,p=(-u-S.sqrt(u*u-4*c*h))/2/c,R(f)>"1e12"&&(f=.5),R(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=ke(t,e,r,i,n,s,a,o,f),g[$](l.x),d[$](l.y)),p>0&&1>p&&(l=ke(t,e,r,i,n,s,a,o,p),g[$](l.x),d[$](l.y)),{min:{x:q[y](0,g),y:q[y](0,d)},max:{x:M[y](0,g),y:M[y](0,d)}}}),Te=i(function(t,e){for(var r=xe(t),i=e&&xe(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][x](_e[y](0,[e.x,e.y][x](t.slice(1))));break;case"S":r=e.x+(e.x-(e.bx||e.x)),i=e.y+(e.y-(e.by||e.y)),t=["C",r,i][x](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][x](we(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][x](we(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][x](be(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][x](be(e.x,e.y,t[1],e.y));break;case"V":t=["C"][x](be(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][x](be(e.x,e.y,e.X,e.Y))}return t}),o=function(t,e){if(t[e][A]>7){t[e].shift();for(var n=t[e];n[A];)t.splice(e++,0,["C"][x](n.splice(0,6)));t.splice(e,1),u=M(r[A],i&&i[A]||0)}},l=function(t,e,n,s,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],u=M(r[A],i&&i[A]||0))},c=0,u=M(r[A],i&&i[A]||0);u>c;c++){r[c]=a(r[c],n),o(r,c),i&&(i[c]=a(i[c],s)),i&&o(i,c),l(r,i,n,s,c),l(i,r,s,n,c);var h=r[c],f=i&&i[c],p=h[A],d=i&&f[A];n.x=h[p-2],n.y=h[p-1],n.bx=U(h[p-4])||n.x,n.by=U(h[p-3])||n.y,s.bx=i&&(U(f[d-4])||s.x),s.by=i&&(U(f[d-3])||s.y),s.x=i&&f[d-2],s.y=i&&f[d-1]}return i?[r,i]:r},null,me),Ee=i(function(t){for(var e=[],r=0,i=t[A];i>r;r++){var n={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(n.color=s.getRGB(a[1]),n.color.error)return null;n.color=n.color.hex,a[2]&&(n.offset=a[2]+"%"),e[$](n)}for(r=1,i=e[A]-1;i>r;r++)if(!e[r].offset){for(var o=U(e[r-1].offset||0),l=0,c=r+1;i>c;c++)if(e[c].offset){l=e[c].offset;break}l||(l=100,c=i),l=U(l);for(var u=(l-o)/(c-r+1);c>r;r++)o+=u,e[r].offset=o+"%"}return e}),Be=function(t,e,r,i){var n;return s.is(t,O)||s.is(t,"object")?(n=s.is(t,O)?p.getElementById(t):t,n.tagName?null==e?{container:n,width:n.style.pixelWidth||n.offsetWidth,height:n.style.pixelHeight||n.offsetHeight}:{container:n,width:e,height:r}:void 0):{container:1,x:t,y:e,width:r,height:i}},Ae=function(t,e){var r=this;for(var i in e)if(e[f](i)&&!(i in t))switch(typeof e[i]){case"function":!function(e){t[i]=t===r?e:function(){return e[y](r,arguments)}}(e[i]);break;case"object":t[i]=t[i]||{},Ae.call(this,t[i],e[i]);break;default:t[i]=e[i]}},Ne=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},Se=function(t,e){e.top!==t&&(Ne(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},Me=function(t,e){e.bottom!==t&&(Ne(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},qe=function(t,e,r){Ne(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},Re=function(t,e,r){Ne(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},Pe=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}};if(s.pathToRelative=ye,s.svg){o.svgns="http://www.w3.org/2000/svg",o.xlink="http://www.w3.org/1999/xlink",V=function(t){return+t+.5*(~~t===t)};var je=function(t,e){if(!e)return t=p.createElementNS(o.svgns,t),t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var r in e)e[f](r)&&t[X](r,k(e[r]))};s[L]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var ze=function(t,e){var r=je("path");e.canvas&&e.canvas[m](r);var i=new $e(r,e);return i.type="path",Le(i,{fill:"none",stroke:"#000",path:t}),i},Oe=function(t,e,r){var i="linear",s=.5,a=.5,o=t.style;if(e=k(e)[ee](le,function(t,e,r){if(i="radial",e&&r){s=U(e),a=U(r);var n=2*(a>.5)-1;P(s-.5,2)+P(a-.5,2)>.25&&(a=S.sqrt(.25-P(s-.5,2))*n+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*n)}return w}),e=e[C](/\s*\-\s*/),"linear"==i){var l=e.shift();if(l=-U(l),isNaN(l))return null;var c=[0,0,S.cos(l*j/180),S.sin(l*j/180)],u=1/(M(R(c[2]),R(c[3]))||1);c[2]*=u,c[3]*=u,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var h=Ee(e);if(!h)return null;var f=t.getAttribute(G);f=f.match(/^url\(#(.*)\)$/),f&&r.defs.removeChild(p.getElementById(f[1]));var d=je(i+"Gradient");d.id=n(),je(d,"radial"==i?{fx:s,fy:a}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}),r.defs[m](d);for(var g=0,v=h[A];v>g;g++){var y=je("stop");je(y,{offset:h[g].offset?h[g].offset:g?"100%":"0%","stop-color":h[g].color||"#fff"}),d[m](y)}return je(t,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),o.fill=w,o.opacity=1,o.fillOpacity=1,1},Ie=function(t){var e=t.getBBox();je(t.pattern,{patternTransform:s.format("translate({0},{1})",e.x,e.y)})},Le=function(t,e){var r={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},i=t.node,a=t.attrs,o=t.rotate(),c=function(t,n){if(n=r[N.call(n)]){for(var s=t.attrs["stroke-width"]||"1",a={round:s,square:s,butt:0}[t.attrs["stroke-linecap"]||e["stroke-linecap"]]||0,o=[],l=n[A];l--;)o[l]=n[l]*s+(l%2?1:-1)*a;je(i,{"stroke-dasharray":o[B](",")})}};e[f]("rotation")&&(o=e.rotation);var u=k(o)[C](l);u.length-1?(u[1]=+u[1],u[2]=+u[2]):u=null,U(o)&&t.rotate(0,!0);for(var h in e)if(e[f](h)){if(!K[f](h))continue;var d=e[h];switch(a[h]=d,h){case"blur":t.blur(d);break;case"rotation":t.rotate(d,!0);break;case"href":case"title":case"target":var g=i.parentNode;if("a"!=N.call(g.tagName)){var v=je("a");g.insertBefore(v,i),v[m](i),g=v}"target"==h&&"blank"==d?g.setAttributeNS(t.paper.xlink,"show","new"):g.setAttributeNS(t.paper.xlink,h,d);break;case"cursor":i.style.cursor=d;break;case"clip-rect":var y=k(d)[C](l);if(4==y[A]){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var x=je("clipPath"),b=je("rect");x.id=n(),je(b,{x:y[0],y:y[1],width:y[2],height:y[3]}),x[m](b),t.paper.defs[m](x),je(i,{"clip-path":"url(#"+x.id+")"}),t.clip=b}if(!d){var T=p.getElementById(i.getAttribute("clip-path")[ee](/(^url\(#|\)$)/g,w));T&&T.parentNode.removeChild(T),je(i,{"clip-path":w}),delete t.clip}break;case"path":"path"==t.type&&je(i,{d:d?a.path=xe(d):"M0,0"});break;case"width":if(i[X](h,d),!a.fx)break;h="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if("rx"==h&&"rect"==t.type)break;case"cx":u&&("x"==h||"cx"==h)&&(u[1]+=d-a[h]),i[X](h,d),t.pattern&&Ie(t);break;case"height":if(i[X](h,d),!a.fy)break;h="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if("ry"==h&&"rect"==t.type)break;case"cy":u&&("y"==h||"cy"==h)&&(u[2]+=d-a[h]),i[X](h,d),t.pattern&&Ie(t);break;case"r":"rect"==t.type?je(i,{rx:d,ry:d}):i[X](h,d);break;case"src":"image"==t.type&&i.setAttributeNS(t.paper.xlink,"href",d);break;case"stroke-width":i.style.strokeWidth=d,i[X](h,d),a["stroke-dasharray"]&&c(t,a["stroke-dasharray"]);break;case"stroke-dasharray":c(t,d);break;case"translation":var E=k(d)[C](l);E[0]=+E[0]||0,E[1]=+E[1]||0,u&&(u[1]+=E[0],u[2]+=E[1]),Br.call(t,E[0],E[1]);break;case"scale":E=k(d)[C](l),t.scale(+E[0]||1,+E[1]||+E[0]||1,isNaN(U(E[2]))?null:+E[2],isNaN(U(E[3]))?null:+E[3]);break;case G:var S=k(d).match(D);if(S){x=je("pattern");var M=je("image");x.id=n(),je(x,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),je(M,{x:0,y:0}),M.setAttributeNS(t.paper.xlink,"href",S[1]),x[m](M);var q=p.createElement("img");q.style.cssText="position:absolute;left:-9999em;top-9999em",q.onload=function(){je(x,{width:this.offsetWidth,height:this.offsetHeight}),je(M,{width:this.offsetWidth,height:this.offsetHeight}),p.body.removeChild(this),t.paper.safari()},p.body[m](q),q.src=S[1],t.paper.defs[m](x),i.style.fill="url(#"+x.id+")",je(i,{fill:"url(#"+x.id+")"}),t.pattern=x,t.pattern&&Ie(t);break}var R=s.getRGB(d);if(R.error){if(({circle:1,ellipse:1}[f](t.type)||"r"!=k(d).charAt())&&Oe(i,d,t.paper)){a.gradient=d,a.fill="none";break}}else delete e.gradient,delete a.gradient,!s.is(a.opacity,"undefined")&&s.is(e.opacity,"undefined")&&je(i,{opacity:a.opacity}),!s.is(a["fill-opacity"],"undefined")&&s.is(e["fill-opacity"],"undefined")&&je(i,{"fill-opacity":a["fill-opacity"]});R[f]("opacity")&&je(i,{"fill-opacity":R.opacity>1?R.opacity/100:R.opacity});case"stroke":R=s.getRGB(d),i[X](h,R.hex),"stroke"==h&&R[f]("opacity")&&je(i,{"stroke-opacity":R.opacity>1?R.opacity/100:R.opacity});break;case"gradient":(({circle:1,ellipse:1})[f](t.type)||"r"!=k(d).charAt())&&Oe(i,d,t.paper);break;case"opacity":a.gradient&&!a[f]("stroke-opacity")&&je(i,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(a.gradient){var P=p.getElementById(i.getAttribute(G)[ee](/^url\(#|\)$/g,w));if(P){var j=P.getElementsByTagName("stop");j[j[A]-1][X]("stop-opacity",d)}break}default:"font-size"==h&&(d=Z(d,10)+"px");var z=h[ee](/(\-.)/g,function(t){return J.call(t.substring(1))});i.style[z]=d,i[X](h,d)}}Fe(t,e),u?t.rotate(u.join(_)):U(o)&&t.rotate(o,!0)},Ge=1.2,Fe=function(t,e){if("text"==t.type&&(e[f]("text")||e[f]("font")||e[f]("font-size")||e[f]("x")||e[f]("y"))){var r=t.attrs,i=t.node,n=i.firstChild?Z(p.defaultView.getComputedStyle(i.firstChild,w).getPropertyValue("font-size"),10):10;if(e[f]("text")){for(r.text=e.text;i.firstChild;)i.removeChild(i.firstChild);for(var a=k(e.text)[C]("\n"),o=0,l=a[A];l>o;o++)if(a[o]){var c=je("tspan");o&&je(c,{dy:n*Ge,x:r.x}),c[m](p.createTextNode(a[o])),i[m](c)}}else for(a=i.getElementsByTagName("tspan"),o=0,l=a[A];l>o;o++)o&&je(a[o],{dy:n*Ge,x:r.x});je(i,{y:r.y});var u=t.getBBox(),h=r.y-(u.y+u.height/2);h&&s.is(h,"finite")&&je(i,{y:r.y+h})}},$e=function(t,e){this[0]=t,this.id=s._oid++,this.node=t,t.raphael=this,this.paper=e,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},De=$e[h];$e[h].rotate=function(t,e,r){if(this.removed)return this;if(null==t)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](_):this._.rt.deg;var i=this.getBBox();return t=k(t)[C](l),t[A]-1&&(e=U(t[1]),r=U(t[2])),t=U(t[0]),null!=e&&e!==!1?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,e=null==e?i.x+i.width/2:e,r=null==r?i.y+i.height/2:r,this._.rt.deg?(this.transformations[0]=s.format("rotate({0} {1} {2})",this._.rt.deg,e,r),this.clip&&je(this.clip,{transform:s.format("rotate({0} {1} {2})",-this._.rt.deg,e,r)})):(this.transformations[0]=w,this.clip&&je(this.clip,{transform:w})),je(this.node,{transform:this.transformations[B](_)}),this},$e[h].hide=function(){return!this.removed&&(this.node.style.display="none"),this},$e[h].show=function(){return!this.removed&&(this.node.style.display=""),this},$e[h].remove=function(){if(!this.removed){Ne(this,this.paper),this.node.parentNode.removeChild(this.node);for(var t in this)delete this[t];this.removed=!0}},$e[h].getBBox=function(){if(this.removed)return this;if("path"==this.type)return ve(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(r){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var i=0,n=this.node.getNumberOfChars();n>i;i++){var s=this.node.getExtentOfChar(i);s.y<e.y&&(e.y=s.y),s.y+s.height-e.y>e.height&&(e.height=s.y+s.height-e.y),s.x+s.width-e.x>e.width&&(e.width=s.x+s.width-e.x)}}return t&&this.hide(),e},$e[h].attr=function(t,e){if(this.removed)return this;if(null==t){var r={};for(var i in this.attrs)this.attrs[f](i)&&(r[i]=this.attrs[i]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==e&&s.is(t,O))return"translation"==t?Br.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==G&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(null==e&&s.is(t,I)){for(var n={},a=0,o=t.length;o>a;a++)n[t[a]]=this.attr(t[a]);return n}if(null!=e){var l={};l[t]=e}else null!=t&&s.is(t,"object")&&(l=t);for(var c in this.paper.customAttributes)if(this.paper.customAttributes[f](c)&&l[f](c)&&s.is(this.paper.customAttributes[c],"function")){var u=this.paper.customAttributes[c].apply(this,[][x](l[c]));this.attrs[c]=l[c];for(var h in u)u[f](h)&&(l[h]=u[h])}return Le(this,l),this},$e[h].toFront=function(){if(this.removed)return this;this.node.parentNode[m](this.node);var t=this.paper;return t.top!=this&&Se(this,t),this},$e[h].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Me(this,this.paper);{this.paper}}return this},$e[h].insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[m](this.node),qe(this,t,this.paper),this},$e[h].insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),Re(this,t,this.paper),this},$e[h].blur=function(t){var e=this;if(0!==+t){var r=je("filter"),i=je("feGaussianBlur");e.attrs.blur=t,r.id=n(),je(i,{stdDeviation:+t||1.5}),r.appendChild(i),e.paper.defs.appendChild(r),e._blur=r,je(e.node,{filter:"url(#"+r.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter")};var We=function(t,e,r,i){var n=je("circle");t.canvas&&t.canvas[m](n);var s=new $e(n,t);return s.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},s.type="circle",je(n,s.attrs),s},Ye=function(t,e,r,i,n,s){var a=je("rect");t.canvas&&t.canvas[m](a);var o=new $e(a,t);return o.attrs={x:e,y:r,width:i,height:n,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",je(a,o.attrs),o},He=function(t,e,r,i,n){var s=je("ellipse");t.canvas&&t.canvas[m](s);var a=new $e(s,t);return a.attrs={cx:e,cy:r,rx:i,ry:n,fill:"none",stroke:"#000"},a.type="ellipse",je(s,a.attrs),a},Ve=function(t,e,r,i,n,s){var a=je("image");je(a,{x:r,y:i,width:n,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[m](a);var o=new $e(a,t);return o.attrs={x:r,y:i,width:n,height:s,src:e},o.type="image",o},Xe=function(t,e,r,i){var n=je("text");je(n,{x:e,y:r,"text-anchor":"middle"}),t.canvas&&t.canvas[m](n);var s=new $e(n,t);return s.attrs={x:e,y:r,"text-anchor":"middle",text:i,font:K.font,stroke:"none",fill:"#000"},s.type="text",Le(s,s.attrs),s},Ue=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[X]("width",this.width),this.canvas[X]("height",this.height),this},Ze=function(){var t=Be[y](0,arguments),e=t&&t.container,r=t.x,i=t.y,n=t.width,a=t.height;if(!e)throw new Error("SVG container not found.");var o=je("svg");return r=r||0,i=i||0,n=n||512,a=a||342,je(o,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:n,height:a}),1==e?(o.style.cssText="position:absolute;left:"+r+"px;top:"+i+"px",p.body[m](o)):e.firstChild?e.insertBefore(o,e.firstChild):e[m](o),e=new v,e.width=n,e.height=a,e.canvas=o,Ae.call(e,e,s.fn),e.clear(),e};o.clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=je("desc"))[m](p.createTextNode("Created with Raphaël")),t[m](this.desc),t[m](this.defs=je("defs"))},o.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Pe(t)}}if(s.vml){var Qe={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Je=/([clmz]),?([^clmz]*)/gi,Ke=/ progid:\S+Blur\([^\)]+\)/g,tr=/-?[^,\s-]+/g,er=1e3+_+1e3,rr=10,ir={path:1,rect:1},nr=function(t){var e=/[ahqstv]/gi,r=xe;if(k(t).match(e)&&(r=Te),e=/[clmz]/g,r==xe&&!k(t).match(e)){var i=k(t)[ee](Je,function(t,e,r){var i=[],n="m"==N.call(e),s=Qe[e];return r[ee](tr,function(t){n&&2==i[A]&&(s+=i+Qe["m"==e?"l":"L"],i=[]),i[$](V(t*rr))}),s+i});return i}var n,s,a=r(t);i=[];for(var o=0,l=a[A];l>o;o++){n=a[o],s=N.call(a[o][0]),"z"==s&&(s="x");for(var c=1,u=n[A];u>c;c++)s+=V(n[c]*rr)+(c!=u-1?",":w);i[$](s)}return i[B](_)};s[L]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},ze=function(t,e){var r=sr("group");r.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",r.coordsize=e.coordsize,r.coordorigin=e.coordorigin;var i=sr("shape"),n=i.style;n.width=e.width+"px",n.height=e.height+"px",i.coordsize=er,i.coordorigin=e.coordorigin,r[m](i);var s=new $e(i,r,e),a={fill:"none",stroke:"#000"};t&&(a.path=t),s.type="path",s.path=[],s.Path=w,Le(s,a),e.canvas[m](r);var o=sr("skew");return o.on=!0,i.appendChild(o),s.skew=o,s},Le=function(t,e){t.attrs=t.attrs||{};var r,i=t.node,n=t.attrs,o=i.style,c=(e.x!=n.x||e.y!=n.y||e.width!=n.width||e.height!=n.height||e.r!=n.r)&&"rect"==t.type,u=t;for(var h in e)e[f](h)&&(n[h]=e[h]);if(c&&(n.path=a(n.x,n.y,n.width,n.height,n.r),t.X=n.x,t.Y=n.y,t.W=n.width,t.H=n.height),e.href&&(i.href=e.href),e.title&&(i.title=e.title),e.target&&(i.target=e.target),e.cursor&&(o.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||c)&&(i.path=nr(n.path)),null!=e.rotation&&t.rotate(e.rotation,!0),e.translation&&(r=k(e.translation)[C](l),Br.call(t,r[0],r[1]),null!=t._.rt.cx&&(t._.rt.cx+=+r[0],t._.rt.cy+=+r[1],t.setBox(t.attrs,r[0],r[1]))),e.scale&&(r=k(e.scale)[C](l),t.scale(+r[0]||1,+r[1]||+r[0]||1,+r[2]||null,+r[3]||null)),"clip-rect"in e){var d=k(e["clip-rect"])[C](l);if(4==d[A]){d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1];var g=i.clipRect||p.createElement("div"),v=g.style,y=i.parentNode;v.clip=s.format("rect({1}px {2}px {3}px {0}px)",d),i.clipRect||(v.position="absolute",v.top=0,v.left=0,v.width=t.paper.width+"px",v.height=t.paper.height+"px",y.parentNode.insertBefore(g,y),g[m](y),i.clipRect=g)}e["clip-rect"]||i.clipRect&&(i.clipRect.style.clip=w)}if("image"==t.type&&e.src&&(i.src=e.src),"image"==t.type&&e.opacity&&(i.filterOpacity=Q+".Alpha(opacity="+100*e.opacity+")",o.filter=(i.filterMatrix||w)+(i.filterOpacity||w)),e.font&&(o.font=e.font),e["font-family"]&&(o.fontFamily='"'+e["font-family"][C](",")[0][ee](/^['"]+|['"]+$/g,w)+'"'),e["font-size"]&&(o.fontSize=e["font-size"]),e["font-weight"]&&(o.fontWeight=e["font-weight"]),e["font-style"]&&(o.fontStyle=e["font-style"]),null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){i=t.shape||i;var x=i.getElementsByTagName(G)&&i.getElementsByTagName(G)[0],b=!1;if(!x&&(b=x=sr(G)),"fill-opacity"in e||"opacity"in e){var _=((+n["fill-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+s.getRGB(e.fill).o+1||2)-1);_=q(M(_,0),1),x.opacity=_}if(e.fill&&(x.on=!0),(null==x.on||"none"==e.fill)&&(x.on=!1),x.on&&e.fill){var T=e.fill.match(D);T?(x.src=T[1],x.type="tile"):(x.color=s.getRGB(e.fill).hex,x.src=w,x.type="solid",s.getRGB(e.fill).error&&(u.type in{circle:1,ellipse:1}||"r"!=k(e.fill).charAt())&&Oe(u,e.fill)&&(n.fill="none",n.gradient=e.fill))}b&&i[m](x);var E=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],B=!1;!E&&(B=E=sr("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(E.on=!0),("none"==e.stroke||null==E.on||0==e.stroke||0==e["stroke-width"])&&(E.on=!1);
var N=s.getRGB(e.stroke);E.on&&e.stroke&&(E.color=N.hex),_=((+n["stroke-opacity"]+1||2)-1)*((+n.opacity+1||2)-1)*((+N.o+1||2)-1);var S=.75*(U(e["stroke-width"])||1);if(_=q(M(_,0),1),null==e["stroke-width"]&&(S=n["stroke-width"]),e["stroke-width"]&&(E.weight=S),S&&1>S&&(_*=S)&&(E.weight=1),E.opacity=_,e["stroke-linejoin"]&&(E.joinstyle=e["stroke-linejoin"]||"miter"),E.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(E.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),e["stroke-dasharray"]){var R={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};E.dashstyle=R[f](e["stroke-dasharray"])?R[e["stroke-dasharray"]]:w}B&&i[m](E)}if("text"==u.type)switch(o=u.paper.span.style,n.font&&(o.font=n.font),n["font-family"]&&(o.fontFamily=n["font-family"]),n["font-size"]&&(o.fontSize=n["font-size"]),n["font-weight"]&&(o.fontWeight=n["font-weight"]),n["font-style"]&&(o.fontStyle=n["font-style"]),u.node.string&&(u.paper.span.innerHTML=k(u.node.string)[ee](/</g,"&#60;")[ee](/&/g,"&#38;")[ee](/\n/g,"<br>")),u.W=n.w=u.paper.span.offsetWidth,u.H=n.h=u.paper.span.offsetHeight,u.X=n.x,u.Y=n.y+V(u.H/2),n["text-anchor"]){case"start":u.node.style["v-text-align"]="left",u.bbx=V(u.W/2);break;case"end":u.node.style["v-text-align"]="right",u.bbx=-V(u.W/2);break;default:u.node.style["v-text-align"]="center"}},Oe=function(t,e){t.attrs=t.attrs||{};var r,i=(t.attrs,"linear"),n=".5 .5";if(t.attrs.gradient=e,e=k(e)[ee](le,function(t,e,r){return i="radial",e&&r&&(e=U(e),r=U(r),P(e-.5,2)+P(r-.5,2)>.25&&(r=S.sqrt(.25-P(e-.5,2))*(2*(r>.5)-1)+.5),n=e+_+r),w}),e=e[C](/\s*\-\s*/),"linear"==i){var s=e.shift();if(s=-U(s),isNaN(s))return null}var a=Ee(e);if(!a)return null;if(t=t.shape||t.node,r=t.getElementsByTagName(G)[0]||sr(G),!r.parentNode&&t.appendChild(r),a[A]){r.on=!0,r.method="none",r.color=a[0].color,r.color2=a[a[A]-1].color;for(var o=[],l=0,c=a[A];c>l;l++)a[l].offset&&o[$](a[l].offset+_+a[l].color);r.colors&&(r.colors.value=o[A]?o[B]():"0% "+r.color),"radial"==i?(r.type="gradientradial",r.focus="100%",r.focussize=n,r.focusposition=n):(r.type="gradient",r.angle=(270-s)%360)}return 1},$e=function(t,e,r){this[0]=t,this.id=s._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=e,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},De=$e[h],De.rotate=function(t,e,r){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](_):this._.rt.deg:(t=k(t)[C](l),t[A]-1&&(e=U(t[1]),r=U(t[2])),t=U(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,this.setBox(this.attrs,e,r),this.Group.style.rotation=this._.rt.deg,this)},De.setBox=function(t,e,r){if(this.removed)return this;var i=this.Group.style,n=this.shape&&this.shape.style||this.node.style;t=t||{};for(var s in t)t[f](s)&&(this.attrs[s]=t[s]);e=e||this._.rt.cx,r=r||this._.rt.cy;var a,o,l,c,u=this.attrs;switch(this.type){case"circle":a=u.cx-u.r,o=u.cy-u.r,l=c=2*u.r;break;case"ellipse":a=u.cx-u.rx,o=u.cy-u.ry,l=2*u.rx,c=2*u.ry;break;case"image":a=+u.x,o=+u.y,l=u.width||0,c=u.height||0;break;case"text":this.textpath.v=["m",V(u.x),", ",V(u.y-2),"l",V(u.x)+1,", ",V(u.y-2)][B](w),a=u.x-V(this.W/2),o=u.y-this.H/2,l=this.W,c=this.H;break;case"rect":case"path":if(this.attrs.path){var h=ve(this.attrs.path);a=h.x,o=h.y,l=h.width,c=h.height}else a=0,o=0,l=this.paper.width,c=this.paper.height;break;default:a=0,o=0,l=this.paper.width,c=this.paper.height}e=null==e?a+l/2:e,r=null==r?o+c/2:r;var p,d=e-this.paper.width/2,g=r-this.paper.height/2;i.left!=(p=d+"px")&&(i.left=p),i.top!=(p=g+"px")&&(i.top=p),this.X=ir[f](this.type)?-d:a,this.Y=ir[f](this.type)?-g:o,this.W=l,this.H=c,ir[f](this.type)?(n.left!=(p=-d*rr+"px")&&(n.left=p),n.top!=(p=-g*rr+"px")&&(n.top=p)):"text"==this.type?(n.left!=(p=-d+"px")&&(n.left=p),n.top!=(p=-g+"px")&&(n.top=p)):(i.width!=(p=this.paper.width+"px")&&(i.width=p),i.height!=(p=this.paper.height+"px")&&(i.height=p),n.left!=(p=a-d+"px")&&(n.left=p),n.top!=(p=o-g+"px")&&(n.top=p),n.width!=(p=l+"px")&&(n.width=p),n.height!=(p=c+"px")&&(n.height=p))},De.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},De.show=function(){return!this.removed&&(this.Group.style.display="block"),this},De.getBBox=function(){return this.removed?this:ir[f](this.type)?ve(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},De.remove=function(){if(!this.removed){Ne(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)delete this[t];this.removed=!0}},De.attr=function(t,e){if(this.removed)return this;if(null==t){var r={};for(var i in this.attrs)this.attrs[f](i)&&(r[i]=this.attrs[i]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==e&&s.is(t,"string"))return"translation"==t?Br.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==G&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&null==e&&s.is(t,I)){var n,a={};for(i=0,n=t[A];n>i;i++)a[t[i]]=this.attr(t[i]);return a}var o;if(null!=e&&(o={},o[t]=e),null==e&&s.is(t,"object")&&(o=t),o){for(var l in this.paper.customAttributes)if(this.paper.customAttributes[f](l)&&o[f](l)&&s.is(this.paper.customAttributes[l],"function")){var c=this.paper.customAttributes[l].apply(this,[][x](o[l]));this.attrs[l]=o[l];for(var u in c)c[f](u)&&(o[u]=c[u])}o.text&&"text"==this.type&&(this.node.string=o.text),Le(this,o),o.gradient&&({circle:1,ellipse:1}[f](this.type)||"r"!=k(o.gradient).charAt())&&Oe(this,o.gradient),(!ir[f](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},De.toFront=function(){return!this.removed&&this.Group.parentNode[m](this.Group),this.paper.top!=this&&Se(this,this.paper),this},De.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Me(this,this.paper)),this)},De.insertAfter=function(t){return this.removed?this:(t.constructor==Ar&&(t=t[t.length-1]),t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[m](this.Group),qe(this,t,this.paper),this)},De.insertBefore=function(t){return this.removed?this:(t.constructor==Ar&&(t=t[0]),t.Group.parentNode.insertBefore(this.Group,t.Group),Re(this,t,this.paper),this)},De.blur=function(t){var e=this.node.runtimeStyle,r=e.filter;r=r.replace(Ke,w),0!==+t?(this.attrs.blur=t,e.filter=r+_+Q+".Blur(pixelradius="+(+t||1.5)+")",e.margin=s.format("-{0}px 0 0 -{0}px",V(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur)},We=function(t,e,r,i){{var n=sr("group"),s=sr("oval");s.style}n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=er,n.coordorigin=t.coordorigin,n[m](s);var a=new $e(s,n,t);return a.type="circle",Le(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=r,a.attrs.r=i,a.setBox({x:e-i,y:r-i,width:2*i,height:2*i}),t.canvas[m](n),a},Ye=function(t,e,r,i,n,s){var o=a(e,r,i,n,s),l=t.path(o),c=l.attrs;return l.X=c.x=e,l.Y=c.y=r,l.W=c.width=i,l.H=c.height=n,c.r=s,c.path=o,l.type="rect",l},He=function(t,e,r,i,n){{var s=sr("group"),a=sr("oval");a.style}s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=er,s.coordorigin=t.coordorigin,s[m](a);var o=new $e(a,s,t);return o.type="ellipse",Le(o,{stroke:"#000"}),o.attrs.cx=e,o.attrs.cy=r,o.attrs.rx=i,o.attrs.ry=n,o.setBox({x:e-i,y:r-n,width:2*i,height:2*n}),t.canvas[m](s),o},Ve=function(t,e,r,i,n,s){var a=sr("group"),o=sr("image");a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=er,a.coordorigin=t.coordorigin,o.src=e,a[m](o);var l=new $e(o,a,t);l.type="image",l.attrs.src=e,l.attrs.x=r,l.attrs.y=i,l.attrs.w=n,l.attrs.h=s,l.setBox({x:r,y:i,width:n,height:s}),t.canvas[m](a);var c=sr("skew");return c.on=!0,o.appendChild(c),l.skew=c,l},Xe=function(t,e,r,i){var n=sr("group"),a=sr("shape"),o=a.style,l=sr("path"),c=(l.style,sr("textpath"));n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=er,n.coordorigin=t.coordorigin,l.v=s.format("m{0},{1}l{2},{1}",V(10*e),V(10*r),V(10*e)+1),l.textpathok=!0,o.width=t.width,o.height=t.height,c.string=k(i),c.on=!0,a[m](c),a[m](l),n[m](a);var u=new $e(c,n,t);return u.shape=a,u.textpath=l,u.type="text",u.attrs.text=i,u.attrs.x=e,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,Le(u,{font:K.font,stroke:"none",fill:"#000"}),u.setBox(),t.canvas[m](n),u},Ue=function(t,e){var r=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this};var sr;p.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!p.namespaces.rvml&&p.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),sr=function(t){return p.createElement("<rvml:"+t+' class="rvml">')}}catch(ar){sr=function(t){return p.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Ze=function(){var t=Be[y](0,arguments),e=t.container,r=t.height,i=t.width,n=t.x,a=t.y;if(!e)throw new Error("VML container not found.");var o=new v,l=o.canvas=p.createElement("div"),c=l.style;return n=n||0,a=a||0,i=i||512,r=r||342,i==+i&&(i+="px"),r==+r&&(r+="px"),o.width=1e3,o.height=1e3,o.coordsize=1e3*rr+_+1e3*rr,o.coordorigin="0 0",o.span=p.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l[m](o.span),c.cssText=s.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==e?(p.body[m](l),c.left=n+"px",c.top=a+"px",c.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e[m](l),Ae.call(o,o,s.fn),o},o.clear=function(){this.canvas.innerHTML=w,this.span=p.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[m](this.span),this.bottom=this.top=null},o.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Pe(t);return!0}}var or=navigator.userAgent.match(/Version\/(.*?)\s/);o.safari="Apple Computer, Inc."==navigator.vendor&&(or&&or[1]<4||"iP"==navigator.platform.slice(0,2))?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});d.setTimeout(function(){t.remove()})}:function(){};for(var lr=function(){this.returnValue=!1},cr=function(){return this.originalEvent.preventDefault()},ur=function(){this.cancelBubble=!0},hr=function(){return this.originalEvent.stopPropagation()},fr=function(){return p.addEventListener?function(t,e,r,i){var n=b&&E[e]?E[e]:e,s=function(n){if(b&&E[f](e))for(var s=0,a=n.targetTouches&&n.targetTouches.length;a>s;s++)if(n.targetTouches[s].target==t){var o=n;n=n.targetTouches[s],n.originalEvent=o,n.preventDefault=cr,n.stopPropagation=hr;break}return r.call(i,n)};return t.addEventListener(n,s,!1),function(){return t.removeEventListener(n,s,!1),!0}}:p.attachEvent?function(t,e,r,i){var n=function(t){return t=t||d.event,t.preventDefault=t.preventDefault||lr,t.stopPropagation=t.stopPropagation||ur,r.call(i,t)};t.attachEvent("on"+e,n);var s=function(){return t.detachEvent("on"+e,n),!0};return s}:void 0}(),pr=[],dr=function(t){for(var e,r=t.clientX,i=t.clientY,n=p.documentElement.scrollTop||p.body.scrollTop,s=p.documentElement.scrollLeft||p.body.scrollLeft,a=pr.length;a--;){if(e=pr[a],b){for(var o,l=t.touches.length;l--;)if(o=t.touches[l],o.identifier==e.el._drag.id){r=o.clientX,i=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();r+=s,i+=n,e.move&&e.move.call(e.move_scope||e.el,r-e.el._drag.x,i-e.el._drag.y,r,i,t)}},gr=function(t){s.unmousemove(dr).unmouseup(gr);for(var e,r=pr.length;r--;)e=pr[r],e.el._drag={},e.end&&e.end.call(e.end_scope||e.start_scope||e.move_scope||e.el,t);pr=[]},vr=T[A];vr--;)(function(t){s[t]=$e[h][t]=function(e,r){return s.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:fr(this.shape||this.node||p,t,e,r||this)})),this},s["un"+t]=$e[h]["un"+t]=function(e){for(var r=this.events,i=r[A];i--;)if(r[i].name==t&&r[i].f==e)return r[i].unbind(),r.splice(i,1),!r.length&&delete this.events,this;return this}})(T[vr]);De.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},De.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},De.drag=function(t,e,r,i,n,a){return this._drag={},this.mousedown(function(o){(o.originalEvent||o).preventDefault();var l=p.documentElement.scrollTop||p.body.scrollTop,c=p.documentElement.scrollLeft||p.body.scrollLeft;this._drag.x=o.clientX+c,this._drag.y=o.clientY+l,this._drag.id=o.identifier,e&&e.call(n||i||this,o.clientX+c,o.clientY+l,o),!pr.length&&s.mousemove(dr).mouseup(gr),pr.push({el:this,move:t,end:r,move_scope:i,start_scope:n,end_scope:a})}),this},De.undrag=function(t,e,r){for(var i=pr.length;i--;)pr[i].el==this&&pr[i].move==t&&pr[i].end==r&&pr.splice(i++,1);!pr.length&&s.unmousemove(dr).unmouseup(gr)},o.circle=function(t,e,r){return We(this,t||0,e||0,r||0)},o.rect=function(t,e,r,i,n){return Ye(this,t||0,e||0,r||0,i||0,n||0)},o.ellipse=function(t,e,r,i){return He(this,t||0,e||0,r||0,i||0)},o.path=function(t){return t&&!s.is(t,O)&&!s.is(t[0],I)&&(t+=w),ze(s.format[y](s,arguments),this)},o.image=function(t,e,r,i,n){return Ve(this,t||"about:blank",e||0,r||0,i||0,n||0)},o.text=function(t,e,r){return Xe(this,t||0,e||0,k(r))},o.set=function(t){return arguments[A]>1&&(t=Array[h].splice.call(arguments,0,arguments[A])),new Ar(t)},o.setSize=Ue,o.top=o.bottom=null,o.raphael=s,De.resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,this.attrs.scale="1 1",void 0)},De.scale=function(t,e,i,n){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:r};e=e||t,!+e&&(e=t);var s,a,o=this.attrs;if(0!=t){var l=this.getBBox(),c=l.x+l.width/2,u=l.y+l.height/2,h=R(t/this._.sx),f=R(e/this._.sy);i=+i||0==i?i:c,n=+n||0==n?n:u;var p=this._.sx>0,d=this._.sy>0,g=~~(t/R(t)),v=~~(e/R(e)),m=h*g,y=f*v,b=this.node.style,k=i+R(c-i)*m*(c>i==p?1:-1),C=n+R(u-n)*y*(u>n==d?1:-1),T=t*g>e*v?f:h;switch(this.type){case"rect":case"image":var E=o.width*h,N=o.height*f;this.attr({height:N,r:o.r*T,width:E,x:k-E/2,y:C-N/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*h,ry:o.ry*f,r:o.r*T,cx:k,cy:C});break;case"text":this.attr({x:k,y:C});break;case"path":for(var S=ye(o.path),M=!0,q=p?m:h,P=d?y:f,j=0,z=S[A];z>j;j++){var O=S[j],I=J.call(O[0]);if("M"!=I||!M)if(M=!1,"A"==I)O[S[j][A]-2]*=q,O[S[j][A]-1]*=P,O[1]*=h,O[2]*=f,O[5]=+(g+v?!!+O[5]:!+O[5]);else if("H"==I)for(var L=1,G=O[A];G>L;L++)O[L]*=q;else if("V"==I)for(L=1,G=O[A];G>L;L++)O[L]*=P;else for(L=1,G=O[A];G>L;L++)O[L]*=L%2?q:P}var F=ve(S);s=k-F.x-F.width/2,a=C-F.y-F.height/2,S[0][1]+=s,S[0][2]+=a,this.attr({path:S})}this.type in{text:1,image:1}&&(1!=g||1!=v)?this.transformations?(this.transformations[2]="scale("[x](g,",",v,")"),this.node[X]("transform",this.transformations[B](_)),s=-1==g?-o.x-(E||0):o.x,a=-1==v?-o.y-(N||0):o.y,this.attr({x:s,y:a}),o.fx=g-1,o.fy=v-1):(this.node.filterMatrix=Q+".Matrix(M11="[x](g,", M12=0, M21=0, M22=",v,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),b.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)):this.transformations?(this.transformations[2]=w,this.node[X]("transform",this.transformations[B](_)),o.fx=0,o.fy=0):(this.node.filterMatrix=w,b.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)),o.scale=[t,e,i,n][B](_),this._.sx=t,this._.sy=e}return this},De.clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var mr={},yr=function(t,e,r,i,n,a,o,l,c){var u,h,f=0,p=100,d=[t,e,r,i,n,a,o,l].join(),g=mr[d];if(!g&&(mr[d]=g={data:[]}),g.timer&&clearTimeout(g.timer),g.timer=setTimeout(function(){delete mr[d]},2e3),null!=c){var v=yr(t,e,r,i,n,a,o,l);p=10*~~v}for(var m=0;p+1>m;m++){if(g.data[c]>m?h=g.data[m*p]:(h=s.findDotsAtSegment(t,e,r,i,n,a,o,l,m/p),g.data[m]=h),m&&(f+=P(P(u.x-h.x,2)+P(u.y-h.y,2),.5)),null!=c&&f>=c)return h;u=h}return null==c?f:void 0},xr=function(t,e){return function(r,i,n){r=Te(r);for(var a,o,l,c,u,h="",f={},p=0,d=0,g=r.length;g>d;d++){if(l=r[d],"M"==l[0])a=+l[1],o=+l[2];else{if(c=yr(a,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+c>i){if(e&&!f.start){if(u=yr(a,o,l[1],l[2],l[3],l[4],l[5],l[6],i-p),h+=["C",u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],n)return h;f.start=h,h=["M",u.x,u.y+"C",u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]][B](),p+=c,a=+l[5],o=+l[6];continue}if(!t&&!e)return u=yr(a,o,l[1],l[2],l[3],l[4],l[5],l[6],i-p),{x:u.x,y:u.y,alpha:u.alpha}}p+=c,a=+l[5],o=+l[6]}h+=l}return f.end=h,u=t?p:e?f:s.findDotsAtSegment(a,o,l[1],l[2],l[3],l[4],l[5],l[6],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},br=xr(1),wr=xr(),_r=xr(0,1);De.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():br(this.attrs.path):void 0},De.getPointAtLength=function(t){return"path"==this.type?wr(this.attrs.path,t):void 0},De.getSubpath=function(t,e){if("path"==this.type){if(R(this.getTotalLength()-e)<"1e-6")return _r(this.attrs.path,t).end;var r=_r(this.attrs.path,e,1);return t?_r(r,t).end:r}},s.easing_formulas={linear:function(t){return t},"<":function(t){return P(t,3)},">":function(t){return P(t-1,3)+1},"<>":function(t){return t=2*t,1>t?P(t,3)/2:(t-=2,(P(t,3)+2)/2)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;var e=.3,r=e/4;return P(2,-10*t)*S.sin(2*(t-r)*j/e)+1},bounce:function(t){var e,r=7.5625,i=2.75;return 1/i>t?e=r*t*t:2/i>t?(t-=1.5/i,e=r*t*t+.75):2.5/i>t?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};var kr=[],Cr=function(){for(var t=+new Date,e=0;e<kr[A];e++){var r=kr[e];if(!r.stop&&!r.el.removed){var i,n=t-r.start,a=r.ms,o=r.easing,l=r.from,c=r.diff,u=r.to,h=r.t,p=r.el,d={};if(a>n){var g=o(n/a);for(var v in l)if(l[f](v)){switch(te[v]){case"along":i=g*a*c[v],u.back&&(i=u.len-i);var m=wr(u[v],i);p.translate(c.sx-c.x||0,c.sy-c.y||0),c.x=m.x,c.y=m.y,p.translate(m.x-c.sx,m.y-c.sy),u.rot&&p.rotate(c.r+m.alpha,m.x,m.y);break;case z:i=+l[v]+g*a*c[v];break;case"colour":i="rgb("+[Er(V(l[v].r+g*a*c[v].r)),Er(V(l[v].g+g*a*c[v].g)),Er(V(l[v].b+g*a*c[v].b))][B](",")+")";break;case"path":i=[];for(var y=0,x=l[v][A];x>y;y++){i[y]=[l[v][y][0]];for(var b=1,k=l[v][y][A];k>b;b++)i[y][b]=+l[v][y][b]+g*a*c[v][y][b];i[y]=i[y][B](_)}i=i[B](_);break;case"csv":switch(v){case"translation":var C=g*a*c[v][0]-h.x,T=g*a*c[v][1]-h.y;h.x+=C,h.y+=T,i=C+_+T;break;case"rotation":i=+l[v][0]+g*a*c[v][0],l[v][1]&&(i+=","+l[v][1]+","+l[v][2]);break;case"scale":i=[+l[v][0]+g*a*c[v][0],+l[v][1]+g*a*c[v][1],2 in u[v]?u[v][2]:w,3 in u[v]?u[v][3]:w][B](_);break;case"clip-rect":for(i=[],y=4;y--;)i[y]=+l[v][y]+g*a*c[v][y]}break;default:var E=[].concat(l[v]);for(i=[],y=p.paper.customAttributes[v].length;y--;)i[y]=+E[y]+g*a*c[v][y]}d[v]=i}p.attr(d),p._run&&p._run.call(p)}else u.along&&(m=wr(u.along,u.len*!u.back),p.translate(c.sx-(c.x||0)+m.x-c.sx,c.sy-(c.y||0)+m.y-c.sy),u.rot&&p.rotate(c.r+m.alpha,m.x,m.y)),(h.x||h.y)&&p.translate(-h.x,-h.y),u.scale&&(u.scale+=w),p.attr(u),kr.splice(e--,1)}}s.svg&&p&&p.paper&&p.paper.safari(),kr[A]&&setTimeout(Cr)},Tr=function(t,e,r,i,n){var a=r-i;e.timeouts.push(setTimeout(function(){s.is(n,"function")&&n.call(e),e.animate(t,a,t.easing)},i))},Er=function(t){return M(q(t,255),0)},Br=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:r};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var i=ye(this.attrs.path);i[0][1]+=+t,i[0][2]+=+e,this.attr({path:i})}return this};De.animateWith=function(t,e,r,i,n){for(var s=0,a=kr.length;a>s;s++)kr[s].el.id==t.id&&(e.start=kr[s].start);return this.animate(e,r,i,n)},De.animateAlong=e(),De.animateAlongBack=e(1),De.onAnimation=function(t){return this._run=t||0,this},De.animate=function(e,r,i,n){var a=this;if(a.timeouts=a.timeouts||[],(s.is(i,"function")||!i)&&(n=i||null),a.removed)return n&&n.call(a),a;var o={},c={},u=!1,h={};for(var p in e)if(e[f](p)&&(te[f](p)||a.paper.customAttributes[f](p)))switch(u=!0,o[p]=a.attr(p),null==o[p]&&(o[p]=K[p]),c[p]=e[p],te[p]){case"along":var d=br(e[p]),g=wr(e[p],d*!!e.back),v=a.getBBox();h[p]=d/r,h.tx=v.x,h.ty=v.y,h.sx=g.x,h.sy=g.y,c.rot=e.rot,c.back=e.back,c.len=d,e.rot&&(h.r=U(a.rotate())||0);break;case z:h[p]=(c[p]-o[p])/r;break;case"colour":o[p]=s.getRGB(o[p]);var m=s.getRGB(c[p]);h[p]={r:(m.r-o[p].r)/r,g:(m.g-o[p].g)/r,b:(m.b-o[p].b)/r};break;case"path":var y=Te(o[p],c[p]);o[p]=y[0];var x=y[1];h[p]=[];for(var b=0,w=o[p][A];w>b;b++){h[p][b]=[0];for(var _=1,T=o[p][b][A];T>_;_++)h[p][b][_]=(x[b][_]-o[p][b][_])/r}break;case"csv":var E=k(e[p])[C](l),B=k(o[p])[C](l);switch(p){case"translation":o[p]=[0,0],h[p]=[E[0]/r,E[1]/r];break;case"rotation":o[p]=B[1]==E[1]&&B[2]==E[2]?B:[0,E[1],E[2]],h[p]=[(E[0]-o[p][0])/r,0,0];break;case"scale":e[p]=E,o[p]=k(o[p])[C](l),h[p]=[(E[0]-o[p][0])/r,(E[1]-o[p][1])/r,0,0];break;case"clip-rect":for(o[p]=k(o[p])[C](l),h[p]=[],b=4;b--;)h[p][b]=(E[b]-o[p][b])/r}c[p]=E;break;default:for(E=[].concat(e[p]),B=[].concat(o[p]),h[p]=[],b=a.paper.customAttributes[p][A];b--;)h[p][b]=((E[b]||0)-(B[b]||0))/r}if(u){var N=s.easing_formulas[i];if(!N)if(N=k(i).match(H),N&&5==N[A]){var S=N;N=function(e){return t(e,+S[1],+S[2],+S[3],+S[4],r)}}else N=function(t){return t};kr.push({start:e.start||+new Date,ms:r,easing:N,from:o,diff:h,to:c,el:a,t:{x:0,y:0}}),s.is(n,"function")&&(a._ac=setTimeout(function(){n.call(a)},r)),1==kr[A]&&setTimeout(Cr)}else{var M,q=[];for(var R in e)e[f](R)&&re.test(R)&&(p={value:e[R]},"from"==R&&(R=0),"to"==R&&(R=100),p.key=Z(R,10),q.push(p));for(q.sort(ce),q[0].key&&q.unshift({key:0,value:a.attrs}),b=0,w=q[A];w>b;b++)Tr(q[b].value,a,r/100*q[b].key,r/100*(q[b-1]&&q[b-1].key||0),q[b-1]&&q[b-1].value.callback);M=q[q[A]-1].value.callback,M&&a.timeouts.push(setTimeout(function(){M.call(a)},r))}return this},De.stop=function(){for(var t=0;t<kr.length;t++)kr[t].el.id==this.id&&kr.splice(t--,1);for(t=0,ii=this.timeouts&&this.timeouts.length;ii>t;t++)clearTimeout(this.timeouts[t]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},De.translate=function(t,e){return this.attr({translation:t+" "+e})},De[L]=function(){return"Raphaël’s object"},s.ae=kr;var Ar=function(t){if(this.items=[],this[A]=0,this.type="set",t)for(var e=0,r=t[A];r>e;e++)t[e]&&(t[e].constructor==$e||t[e].constructor==Ar)&&(this[this.items[A]]=this.items[this.items[A]]=t[e],this[A]++)};Ar[h][$]=function(){for(var t,e,r=0,i=arguments[A];i>r;r++)t=arguments[r],t&&(t.constructor==$e||t.constructor==Ar)&&(e=this.items[A],this[e]=this.items[e]=t,this[A]++);return this},Ar[h].pop=function(){return delete this[this[A]--],this.items.pop()};for(var Nr in De)De[f](Nr)&&(Ar[h][Nr]=function(t){return function(){for(var e=0,r=this.items[A];r>e;e++)this.items[e][t][y](this.items[e],arguments);return this}}(Nr));Ar[h].attr=function(t,e){if(t&&s.is(t,I)&&s.is(t[0],"object"))for(var r=0,i=t[A];i>r;r++)this.items[r].attr(t[r]);else for(var n=0,a=this.items[A];a>n;n++)this.items[n].attr(t,e);return this},Ar[h].animate=function(t,e,r,i){(s.is(r,"function")||!r)&&(i=r||null);var n,a,o=this.items[A],l=o,c=this;for(i&&(a=function(){!--o&&i.call(c)}),r=s.is(r,O)?r:a,n=this.items[--l].animate(t,e,r,a);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(n,t,e,r,a);return this},Ar[h].insertAfter=function(t){for(var e=this.items[A];e--;)this.items[e].insertAfter(t);return this},Ar[h].getBBox=function(){for(var t=[],e=[],r=[],i=[],n=this.items[A];n--;){var s=this.items[n].getBBox();t[$](s.x),e[$](s.y),r[$](s.x+s.width),i[$](s.y+s.height)}return t=q[y](0,t),e=q[y](0,e),{x:t,y:e,width:M[y](0,r)-t,height:M[y](0,i)-e}},Ar[h].clone=function(t){t=new Ar;for(var e=0,r=this.items[A];r>e;e++)t[$](this.items[e].clone());return t},s.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[f](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r][$](e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=Z(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[f](n)){var s=t.glyphs[n];if(e.glyphs[n]={w:s.w,k:{},d:s.d&&"M"+s.d[ee](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var a in s.k)s[f](a)&&(e.glyphs[n].k[a]=s.k[a])}}return t},o.getFont=function(t,e,r,i){if(i=i||"normal",r=r||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,s.fonts){var n=s.fonts[t];if(!n){var a=new RegExp("(^|\\s)"+t[ee](/[^\w\d\s+!~.:_-]/g,w)+"(\\s|$)","i");for(var o in s.fonts)if(s.fonts[f](o)&&a.test(o)){n=s.fonts[o];break}}var l;if(n)for(var c=0,u=n[A];u>c&&(l=n[c],l.face["font-weight"]!=e||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=i);c++);return l}},o.print=function(t,e,r,i,n,a,o){a=a||"middle",o=M(q(o||0,1),-1);var c,u=this.set(),h=k(r)[C](w),f=0;if(s.is(i,r)&&(i=this.getFont(i)),i){c=(n||16)/i.face["units-per-em"];for(var p=i.face.bbox.split(l),d=+p[0],g=+p[1]+("baseline"==a?p[3]-p[1]+ +i.face.descent:(p[3]-p[1])/2),v=0,m=h[A];m>v;v++){var y=v&&i.glyphs[h[v-1]]||{},x=i.glyphs[h[v]];f+=v?(y.w||i.w)+(y.k&&y.k[h[v]]||0)+i.w*o:0,x&&x.d&&u[$](this.path(x.d).attr({fill:"#000",stroke:"none",translation:[f,0]}))}u.scale(c,c,d,g).translate(t-d,e-g)}return u},s.format=function(t,e){var r=s.is(e,I)?[0][x](e):arguments;return t&&s.is(t,O)&&r[A]-1&&(t=t[ee](u,function(t,e){return null==r[++e]?w:r[e]})),t||w},s.ninja=function(){return g.was?d.Raphael=g.is:delete Raphael,s},s.el=De,s.st=Ar[h],g.was?d.Raphael=s:Raphael=s}();