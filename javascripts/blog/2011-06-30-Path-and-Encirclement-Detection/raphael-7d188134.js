/*
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
!function(){function t(t,e,r,n,i,o){function a(t,e){var r,n,i,o,a,s;for(i=t,s=0;8>s;s++){if(o=l(i)-t,R(o)<e)return i;if(a=(3*h*i+2*c)*i+u,R(a)<1e-6)break;i-=o/a}if(r=0,n=1,i=t,r>i)return r;if(i>n)return n;for(;n>r;){if(o=l(i),R(o-t)<e)return i;t>o?r=i:n=i,i=(n-r)/2+r}return i}function s(t,e){var r=a(t,e);return((d*r+p)*r+f)*r}function l(t){return((h*t+c)*t+u)*t}var u=3*e,c=3*(n-e)-u,h=1-u-c,f=3*r,p=3*(i-r)-f,d=1-f-p;return s(t,1/(200*o))}function e(t){return function(e,r,n,i){var a={back:t};return o.is(n,"function")?i=n:a.rot=n,e&&e.constructor==De&&(e=e.attrs.path),e&&(a.along=e),this.animate(a,r,i)}}function r(){return this.x+_+this.y}function n(t,e,r){function n(){var i=Array[h].slice.call(arguments,0),o=i[A]("►"),a=n.cache=n.cache||{},s=n.count=n.count||[];return a[f](o)?r?r(a[o]):a[o]:(s[N]>=1e3&&delete a[s.shift()],s[D](o),a[o]=t[y](e,i),r?r(a[o]):a[o])}return n}function i(){for(var t=[],e=0;32>e;e++)t[e]=(~~(16*B.random()))[F](16);return t[12]=4,t[16]=(3&t[16]|8)[F](16),"r-"+t[A]("")}function o(){if(o.is(arguments[0],z)){for(var t=arguments[0],e=Qe[y](o,t.splice(0,3+o.is(t[0],O))),r=e.set(),n=0,i=t[N];i>n;n++){var a=t[n]||{};u[f](a.type)&&r[D](e[a.type]().attr(a))}return r}return Qe[y](o,arguments)}function a(t,e,r,n,i){return i?o.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+i,e,r-2*i,i,-i,n-2*i,2*i-r,2*i-n):o.format("M{0},{1}l{2},0,0,{3},{4},0z",t,e,r,n,-r)}o.version="1.5.2";var s,l=/[, ]+/,u={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},c=/\{(\d+)\}/g,h="prototype",f="hasOwnProperty",p=document,d=window,g={was:Object[h][f].call(d,"Raphael"),is:d.Raphael},v=function(){this.customAttributes={}},m="appendChild",y="apply",x="concat",b="createTouch"in p,w="",_=" ",k=String,C="split",T="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[C](_),E={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},A="join",N="length",S=k[h].toLowerCase,B=Math,M=B.max,q=B.min,R=B.abs,P=B.pow,j=B.PI,O="number",I="string",z="array",F="toString",$="fill",L=Object[h][F],D="push",G=/^url\(['"]?([^\)]+?)['"]?\)$/i,W=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,Y={NaN:1,Infinity:1,"-Infinity":1},H=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,V=B.round,X="setAttribute",U=parseFloat,Q=parseInt,Z=" progid:DXImageTransform.Microsoft",J=k[h].toUpperCase,K={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},te={along:"along",blur:O,"clip-rect":"csv",cx:O,cy:O,fill:"colour","fill-opacity":O,"font-size":O,height:O,opacity:O,path:"path",r:O,rotation:"csv",rx:O,ry:O,scale:"csv",stroke:"colour","stroke-opacity":O,"stroke-width":O,translation:"csv",width:O,x:O,y:O},ee="replace",re=/^(from|to|\d+%?)$/,ne=/\s*,\s*/,ie={hs:1,rg:1},oe=/,?([achlmqrstvxz]),?/gi,ae=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,se=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,le=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ue=function(t,e){return t.key-e.key};if(o.type=d.SVGAngle||p.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==o.type){var ce,he=p.createElement("div");if(he.innerHTML='<v:shape adj="1"/>',ce=he.firstChild,ce.style.behavior="url(#default#VML)",!ce||"object"!=typeof ce.adj)return o.type=null;he=null}o.svg=!(o.vml="VML"==o.type),v[h]=o[h],s=v[h],o._id=0,o._oid=0,o.fn={},o.is=function(t,e){return e=S.call(e),"finite"==e?!Y[f](+t):"null"==e&&null===t||e==typeof t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||L.call(t).slice(8,-1).toLowerCase()==e},o.angle=function(t,e,r,n,i,a){if(null==i){var s=t-r,l=e-n;return s||l?(180*(0>s)+180*B.atan(-l/-s)/j+360)%360:0}return o.angle(t,e,i,a)-o.angle(r,n,i,a)},o.rad=function(t){return t%360*j/180},o.deg=function(t){return 180*t/j%360},o.snapTo=function(t,e,r){if(r=o.is(r,"finite")?r:10,o.is(t,z)){for(var n=t.length;n--;)if(R(t[n]-e)<=r)return t[n]}else{t=+t;var i=e%t;if(r>i)return e-i;if(i>t-r)return e-i+t}return e},o.setWindow=function(t){d=t,p=d.document};var fe=function(t){if(o.vml){var e,r=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),e=i.body}catch(a){e=createPopup().document.body}var s=e.createTextRange();fe=n(function(t){try{e.style.color=k(t)[ee](r,w);var n=s.queryCommandValue("ForeColor");return n=(255&n)<<16|65280&n|(16711680&n)>>>16,"#"+("000000"+n[F](16)).slice(-6)}catch(i){return"none"}})}else{var l=p.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",p.body[m](l),fe=n(function(t){return l.style.color=t,p.defaultView.getComputedStyle(l,w).getPropertyValue("color")})}return fe(t)},pe=function(){return"hsb("+[this.h,this.s,this.b]+")"},de=function(){return"hsl("+[this.h,this.s,this.l]+")"},ge=function(){return this.hex};o.hsb2rgb=function(t,e,r,n){return o.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,t=t.h,n=t.o),o.hsl2rgb(t,e,r/2,n)},o.hsl2rgb=function(t,e,r,n){o.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100);var i,a,s,l={},u=["r","g","b"];if(e){i=.5>r?r*(1+e):r+e-r*e,a=2*r-i;for(var c=0;3>c;c++)s=t+1/3*-(c-1),0>s&&s++,s>1&&s--,l[u[c]]=1>6*s?a+6*(i-a)*s:1>2*s?i:2>3*s?a+(i-a)*(2/3-s)*6:a}else l={r:r,g:r,b:r};return l.r*=255,l.g*=255,l.b*=255,l.hex="#"+(16777216|l.b|l.g<<8|l.r<<16).toString(16).slice(1),o.is(n,"finite")&&(l.opacity=n),l.toString=ge,l},o.rgb2hsb=function(t,e,r){if(null==e&&o.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&o.is(t,I)){var n=o.getRGB(t);t=n.r,e=n.g,r=n.b}(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255);var i,a,s=M(t,e,r),l=q(t,e,r),u=s;if(l==s)return{h:0,s:0,b:s,toString:pe};var c=s-l;return a=c/s,i=t==s?(e-r)/c:e==s?2+(r-t)/c:4+(t-e)/c,i/=6,0>i&&i++,i>1&&i--,{h:i,s:a,b:u,toString:pe}},o.rgb2hsl=function(t,e,r){if(null==e&&o.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&o.is(t,I)){var n=o.getRGB(t);t=n.r,e=n.g,r=n.b}(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255);var i,a,s,l=M(t,e,r),u=q(t,e,r),c=(l+u)/2;if(u==l)s={h:0,s:0,l:c};else{var h=l-u;a=.5>c?h/(l+u):h/(2-l-u),i=t==l?(e-r)/h:e==l?2+(r-t)/h:4+(t-e)/h,i/=6,0>i&&i++,i>1&&i--,s={h:i,s:a,l:c}}return s.toString=de,s},o._path2string=function(){return this.join(",")[ee](oe,"$1")},o.getRGB=n(function(t){if(!t||(t=k(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none"};!ie[f](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=fe(t));var e,r,n,i,a,s,l=t.match(W);return l?(l[2]&&(n=Q(l[2].substring(5),16),r=Q(l[2].substring(3,5),16),e=Q(l[2].substring(1,3),16)),l[3]&&(n=Q((a=l[3].charAt(3))+a,16),r=Q((a=l[3].charAt(2))+a,16),e=Q((a=l[3].charAt(1))+a,16)),l[4]&&(s=l[4][C](ne),e=U(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),r=U(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),n=U(s[2]),"%"==s[2].slice(-1)&&(n*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(i=U(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100)),l[5]?(s=l[5][C](ne),e=U(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),r=U(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),n=U(s[2]),"%"==s[2].slice(-1)&&(n*=2.55),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(e/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(i=U(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),o.hsb2rgb(e,r,n,i)):l[6]?(s=l[6][C](ne),e=U(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),r=U(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),n=U(s[2]),"%"==s[2].slice(-1)&&(n*=2.55),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(e/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(i=U(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),o.hsl2rgb(e,r,n,i)):(l={r:e,g:r,b:n},l.hex="#"+(16777216|n|r<<8|e<<16).toString(16).slice(1),o.is(i,"finite")&&(l.opacity=i),l)):{r:-1,g:-1,b:-1,hex:"none",error:1}},o),o.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},o.getColor.reset=function(){delete this.start},o.parsePathString=n(function(t){if(!t)return null;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return o.is(t,z)&&o.is(t[0],z)&&(r=me(t)),r[N]||k(t)[ee](ae,function(t,n,i){var o=[],a=S.call(n);for(i[ee](se,function(t,e){e&&o[D](+e)}),"m"==a&&o[N]>2&&(r[D]([n][x](o.splice(0,2))),a="l",n="m"==n?"l":"L");o[N]>=e[a]&&(r[D]([n][x](o.splice(0,e[a]))),e[a]););}),r[F]=o._path2string,r}),o.findDotsAtSegment=function(t,e,r,n,i,o,a,s,l){var u=1-l,c=P(u,3)*t+3*P(u,2)*l*r+3*u*l*l*i+P(l,3)*a,h=P(u,3)*e+3*P(u,2)*l*n+3*u*l*l*o+P(l,3)*s,f=t+2*l*(r-t)+l*l*(i-2*r+t),p=e+2*l*(n-e)+l*l*(o-2*n+e),d=r+2*l*(i-r)+l*l*(a-2*i+r),g=n+2*l*(o-n)+l*l*(s-2*o+n),v=(1-l)*t+l*r,m=(1-l)*e+l*n,y=(1-l)*i+l*a,x=(1-l)*o+l*s,b=90-180*B.atan((f-d)/(p-g))/j;return(f>d||g>p)&&(b+=180),{x:c,y:h,m:{x:f,y:p},n:{x:d,y:g},start:{x:v,y:m},end:{x:y,y:x},alpha:b}};var ve=n(function(t){if(!t)return{x:0,y:0,width:0,height:0};t=Te(t);for(var e,r=0,n=0,i=[],o=[],a=0,s=t[N];s>a;a++)if(e=t[a],"M"==e[0])r=e[1],n=e[2],i[D](r),o[D](n);else{var l=Ce(r,n,e[1],e[2],e[3],e[4],e[5],e[6]);i=i[x](l.min.x,l.max.x),o=o[x](l.min.y,l.max.y),r=e[5],n=e[6]}var u=q[y](0,i),c=q[y](0,o);return{x:u,y:c,width:M[y](0,i)-u,height:M[y](0,o)-c}}),me=function(t){var e=[];o.is(t,z)&&o.is(t&&t[0],z)||(t=o.parsePathString(t));for(var r=0,n=t[N];n>r;r++){e[r]=[];for(var i=0,a=t[r][N];a>i;i++)e[r][i]=t[r][i]}return e[F]=o._path2string,e},ye=n(function(t){o.is(t,z)&&o.is(t&&t[0],z)||(t=o.parsePathString(t));var e=[],r=0,n=0,i=0,a=0,s=0;"M"==t[0][0]&&(r=t[0][1],n=t[0][2],i=r,a=n,s++,e[D](["M",r,n]));for(var l=s,u=t[N];u>l;l++){var c=e[l]=[],h=t[l];if(h[0]!=S.call(h[0]))switch(c[0]=S.call(h[0]),c[0]){case"a":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]-r).toFixed(3),c[7]=+(h[7]-n).toFixed(3);break;case"v":c[1]=+(h[1]-n).toFixed(3);break;case"m":i=h[1],a=h[2];default:for(var f=1,p=h[N];p>f;f++)c[f]=+(h[f]-(f%2?r:n)).toFixed(3)}else{c=e[l]=[],"m"==h[0]&&(i=h[1]+r,a=h[2]+n);for(var d=0,g=h[N];g>d;d++)e[l][d]=h[d]}var v=e[l][N];switch(e[l][0]){case"z":r=i,n=a;break;case"h":r+=+e[l][v-1];break;case"v":n+=+e[l][v-1];break;default:r+=+e[l][v-2],n+=+e[l][v-1]}}return e[F]=o._path2string,e},0,me),xe=n(function(t){o.is(t,z)&&o.is(t&&t[0],z)||(t=o.parsePathString(t));var e=[],r=0,n=0,i=0,a=0,s=0;"M"==t[0][0]&&(r=+t[0][1],n=+t[0][2],i=r,a=n,s++,e[0]=["M",r,n]);for(var l=s,u=t[N];u>l;l++){var c=e[l]=[],h=t[l];if(h[0]!=J.call(h[0]))switch(c[0]=J.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+r),c[7]=+(h[7]+n);break;case"V":c[1]=+h[1]+n;break;case"H":c[1]=+h[1]+r;break;case"M":i=+h[1]+r,a=+h[2]+n;default:for(var f=1,p=h[N];p>f;f++)c[f]=+h[f]+(f%2?r:n)}else for(var d=0,g=h[N];g>d;d++)e[l][d]=h[d];switch(c[0]){case"Z":r=i,n=a;break;case"H":r=c[1];break;case"V":n=c[1];break;case"M":i=e[l][e[l][N]-2],a=e[l][e[l][N]-1];default:r=e[l][e[l][N]-2],n=e[l][e[l][N]-1]}}return e[F]=o._path2string,e},null,me),be=function(t,e,r,n){return[t,e,r,n,r,n]},we=function(t,e,r,n,i,o){var a=1/3,s=2/3;return[a*t+s*r,a*e+s*n,a*i+s*r,a*o+s*n,i,o]},_e=function(t,e,r,i,o,a,s,l,u,c){var h,f=120*j/180,p=j/180*(+o||0),d=[],g=n(function(t,e,r){var n=t*B.cos(r)-e*B.sin(r),i=t*B.sin(r)+e*B.cos(r);return{x:n,y:i}});if(c)E=c[0],S=c[1],k=c[2],T=c[3];else{h=g(t,e,-p),t=h.x,e=h.y,h=g(l,u,-p),l=h.x,u=h.y;var v=(B.cos(j/180*o),B.sin(j/180*o),(t-l)/2),m=(e-u)/2,y=v*v/(r*r)+m*m/(i*i);y>1&&(y=B.sqrt(y),r=y*r,i=y*i);var b=r*r,w=i*i,_=(a==s?-1:1)*B.sqrt(R((b*w-b*m*m-w*v*v)/(b*m*m+w*v*v))),k=_*r*m/i+(t+l)/2,T=_*-i*v/r+(e+u)/2,E=B.asin(((e-T)/i).toFixed(9)),S=B.asin(((u-T)/i).toFixed(9));E=k>t?j-E:E,S=k>l?j-S:S,0>E&&(E=2*j+E),0>S&&(S=2*j+S),s&&E>S&&(E-=2*j),!s&&S>E&&(S-=2*j)}var M=S-E;if(R(M)>f){var q=S,P=l,O=u;S=E+f*(s&&S>E?1:-1),l=k+r*B.cos(S),u=T+i*B.sin(S),d=_e(l,u,r,i,o,0,s,P,O,[S,q,k,T])}M=S-E;var I=B.cos(E),z=B.sin(E),F=B.cos(S),$=B.sin(S),L=B.tan(M/4),D=4/3*r*L,G=4/3*i*L,W=[t,e],Y=[t+D*z,e-G*I],H=[l+D*$,u-G*F],V=[l,u];if(Y[0]=2*W[0]-Y[0],Y[1]=2*W[1]-Y[1],c)return[Y,H,V][x](d);d=[Y,H,V][x](d)[A]()[C](",");for(var X=[],U=0,Q=d[N];Q>U;U++)X[U]=U%2?g(d[U-1],d[U],p).y:g(d[U],d[U+1],p).x;return X},ke=function(t,e,r,n,i,o,a,s,l){var u=1-l;return{x:P(u,3)*t+3*P(u,2)*l*r+3*u*l*l*i+P(l,3)*a,y:P(u,3)*e+3*P(u,2)*l*n+3*u*l*l*o+P(l,3)*s}},Ce=n(function(t,e,r,n,i,o,a,s){var l,u=i-2*r+t-(a-2*i+r),c=2*(r-t)-2*(i-r),h=t-r,f=(-c+B.sqrt(c*c-4*u*h))/2/u,p=(-c-B.sqrt(c*c-4*u*h))/2/u,d=[e,s],g=[t,a];return R(f)>"1e12"&&(f=.5),R(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=ke(t,e,r,n,i,o,a,s,f),g[D](l.x),d[D](l.y)),p>0&&1>p&&(l=ke(t,e,r,n,i,o,a,s,p),g[D](l.x),d[D](l.y)),u=o-2*n+e-(s-2*o+n),c=2*(n-e)-2*(o-n),h=e-n,f=(-c+B.sqrt(c*c-4*u*h))/2/u,p=(-c-B.sqrt(c*c-4*u*h))/2/u,R(f)>"1e12"&&(f=.5),R(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=ke(t,e,r,n,i,o,a,s,f),g[D](l.x),d[D](l.y)),p>0&&1>p&&(l=ke(t,e,r,n,i,o,a,s,p),g[D](l.x),d[D](l.y)),{min:{x:q[y](0,g),y:q[y](0,d)},max:{x:M[y](0,g),y:M[y](0,d)}}}),Te=n(function(t,e){for(var r=xe(t),n=e&&xe(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var r,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][x](_e[y](0,[e.x,e.y][x](t.slice(1))));break;case"S":r=e.x+(e.x-(e.bx||e.x)),n=e.y+(e.y-(e.by||e.y)),t=["C",r,n][x](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][x](we(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][x](we(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][x](be(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][x](be(e.x,e.y,t[1],e.y));break;case"V":t=["C"][x](be(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][x](be(e.x,e.y,e.X,e.Y))}return t}),s=function(t,e){if(t[e][N]>7){t[e].shift();for(var i=t[e];i[N];)t.splice(e++,0,["C"][x](i.splice(0,6)));t.splice(e,1),c=M(r[N],n&&n[N]||0)}},l=function(t,e,i,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],c=M(r[N],n&&n[N]||0))},u=0,c=M(r[N],n&&n[N]||0);c>u;u++){r[u]=a(r[u],i),s(r,u),n&&(n[u]=a(n[u],o)),n&&s(n,u),l(r,n,i,o,u),l(n,r,o,i,u);var h=r[u],f=n&&n[u],p=h[N],d=n&&f[N];i.x=h[p-2],i.y=h[p-1],i.bx=U(h[p-4])||i.x,i.by=U(h[p-3])||i.y,o.bx=n&&(U(f[d-4])||o.x),o.by=n&&(U(f[d-3])||o.y),o.x=n&&f[d-2],o.y=n&&f[d-1]}return n?[r,n]:r},null,me),Ee=n(function(t){for(var e=[],r=0,n=t[N];n>r;r++){var i={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(i.color=o.getRGB(a[1]),i.color.error)return null;i.color=i.color.hex,a[2]&&(i.offset=a[2]+"%"),e[D](i)}for(r=1,n=e[N]-1;n>r;r++)if(!e[r].offset){for(var s=U(e[r-1].offset||0),l=0,u=r+1;n>u;u++)if(e[u].offset){l=e[u].offset;break}l||(l=100,u=n),l=U(l);for(var c=(l-s)/(u-r+1);u>r;r++)s+=c,e[r].offset=s+"%"}return e}),Ae=function(t,e,r,n){var i;return o.is(t,I)||o.is(t,"object")?(i=o.is(t,I)?p.getElementById(t):t,i.tagName?null==e?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:e,height:r}:void 0):{container:1,x:t,y:e,width:r,height:n}},Ne=function(t,e){var r=this;for(var n in e)if(e[f](n)&&!(n in t))switch(typeof e[n]){case"function":!function(e){t[n]=t===r?e:function(){return e[y](r,arguments)}}(e[n]);break;case"object":t[n]=t[n]||{},Ne.call(this,t[n],e[n]);break;default:t[n]=e[n]}},Se=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},Be=function(t,e){e.top!==t&&(Se(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},Me=function(t,e){e.bottom!==t&&(Se(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},qe=function(t,e,r){Se(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},Re=function(t,e,r){Se(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},Pe=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}};if(o.pathToRelative=ye,o.svg){s.svgns="http://www.w3.org/2000/svg",s.xlink="http://www.w3.org/1999/xlink",V=function(t){return+t+.5*(~~t===t)};var je=function(t,e){if(!e)return t=p.createElementNS(s.svgns,t),t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var r in e)e[f](r)&&t[X](r,k(e[r]))};o[F]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Oe=function(t,e){var r=je("path");e.canvas&&e.canvas[m](r);var n=new De(r,e);return n.type="path",Fe(n,{fill:"none",stroke:"#000",path:t}),n},Ie=function(t,e,r){var n="linear",o=.5,a=.5,s=t.style;if(e=k(e)[ee](le,function(t,e,r){if(n="radial",e&&r){o=U(e),a=U(r);var i=2*(a>.5)-1;P(o-.5,2)+P(a-.5,2)>.25&&(a=B.sqrt(.25-P(o-.5,2))*i+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*i)}return w}),e=e[C](/\s*\-\s*/),"linear"==n){var l=e.shift();if(l=-U(l),isNaN(l))return null;var u=[0,0,B.cos(l*j/180),B.sin(l*j/180)],c=1/(M(R(u[2]),R(u[3]))||1);u[2]*=c,u[3]*=c,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var h=Ee(e);if(!h)return null;var f=t.getAttribute($);f=f.match(/^url\(#(.*)\)$/),f&&r.defs.removeChild(p.getElementById(f[1]));var d=je(n+"Gradient");d.id=i(),je(d,"radial"==n?{fx:o,fy:a}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3]}),r.defs[m](d);for(var g=0,v=h[N];v>g;g++){var y=je("stop");je(y,{offset:h[g].offset?h[g].offset:g?"100%":"0%","stop-color":h[g].color||"#fff"}),d[m](y)}return je(t,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),s.fill=w,s.opacity=1,s.fillOpacity=1,1},ze=function(t){var e=t.getBBox();je(t.pattern,{patternTransform:o.format("translate({0},{1})",e.x,e.y)})},Fe=function(t,e){var r={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},n=t.node,a=t.attrs,s=t.rotate(),u=function(t,i){if(i=r[S.call(i)]){for(var o=t.attrs["stroke-width"]||"1",a={round:o,square:o,butt:0}[t.attrs["stroke-linecap"]||e["stroke-linecap"]]||0,s=[],l=i[N];l--;)s[l]=i[l]*o+(l%2?1:-1)*a;je(n,{"stroke-dasharray":s[A](",")})}};e[f]("rotation")&&(s=e.rotation);var c=k(s)[C](l);c.length-1?(c[1]=+c[1],c[2]=+c[2]):c=null,U(s)&&t.rotate(0,!0);for(var h in e)if(e[f](h)){if(!K[f](h))continue;var d=e[h];switch(a[h]=d,h){case"blur":t.blur(d);break;case"rotation":t.rotate(d,!0);break;case"href":case"title":case"target":var g=n.parentNode;if("a"!=S.call(g.tagName)){var v=je("a");g.insertBefore(v,n),v[m](n),g=v}"target"==h&&"blank"==d?g.setAttributeNS(t.paper.xlink,"show","new"):g.setAttributeNS(t.paper.xlink,h,d);break;case"cursor":n.style.cursor=d;break;case"clip-rect":var y=k(d)[C](l);if(4==y[N]){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var x=je("clipPath"),b=je("rect");x.id=i(),je(b,{x:y[0],y:y[1],width:y[2],height:y[3]}),x[m](b),t.paper.defs[m](x),je(n,{"clip-path":"url(#"+x.id+")"}),t.clip=b}if(!d){var T=p.getElementById(n.getAttribute("clip-path")[ee](/(^url\(#|\)$)/g,w));T&&T.parentNode.removeChild(T),je(n,{"clip-path":w}),delete t.clip}break;case"path":"path"==t.type&&je(n,{d:d?a.path=xe(d):"M0,0"});break;case"width":if(n[X](h,d),!a.fx)break;h="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if("rx"==h&&"rect"==t.type)break;case"cx":c&&("x"==h||"cx"==h)&&(c[1]+=d-a[h]),n[X](h,d),t.pattern&&ze(t);break;case"height":if(n[X](h,d),!a.fy)break;h="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if("ry"==h&&"rect"==t.type)break;case"cy":c&&("y"==h||"cy"==h)&&(c[2]+=d-a[h]),n[X](h,d),t.pattern&&ze(t);break;case"r":"rect"==t.type?je(n,{rx:d,ry:d}):n[X](h,d);break;case"src":"image"==t.type&&n.setAttributeNS(t.paper.xlink,"href",d);break;case"stroke-width":n.style.strokeWidth=d,n[X](h,d),a["stroke-dasharray"]&&u(t,a["stroke-dasharray"]);break;case"stroke-dasharray":u(t,d);break;case"translation":var E=k(d)[C](l);E[0]=+E[0]||0,E[1]=+E[1]||0,c&&(c[1]+=E[0],c[2]+=E[1]),Ar.call(t,E[0],E[1]);break;case"scale":E=k(d)[C](l),t.scale(+E[0]||1,+E[1]||+E[0]||1,isNaN(U(E[2]))?null:+E[2],isNaN(U(E[3]))?null:+E[3]);break;case $:var B=k(d).match(G);if(B){x=je("pattern");var M=je("image");x.id=i(),je(x,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),je(M,{x:0,y:0}),M.setAttributeNS(t.paper.xlink,"href",B[1]),x[m](M);var q=p.createElement("img");q.style.cssText="position:absolute;left:-9999em;top-9999em",q.onload=function(){je(x,{width:this.offsetWidth,height:this.offsetHeight}),je(M,{width:this.offsetWidth,height:this.offsetHeight}),p.body.removeChild(this),t.paper.safari()},p.body[m](q),q.src=B[1],t.paper.defs[m](x),n.style.fill="url(#"+x.id+")",je(n,{fill:"url(#"+x.id+")"}),t.pattern=x,t.pattern&&ze(t);break}var R=o.getRGB(d);if(R.error){if(({circle:1,ellipse:1}[f](t.type)||"r"!=k(d).charAt())&&Ie(n,d,t.paper)){a.gradient=d,a.fill="none";break}}else delete e.gradient,delete a.gradient,!o.is(a.opacity,"undefined")&&o.is(e.opacity,"undefined")&&je(n,{opacity:a.opacity}),!o.is(a["fill-opacity"],"undefined")&&o.is(e["fill-opacity"],"undefined")&&je(n,{"fill-opacity":a["fill-opacity"]});R[f]("opacity")&&je(n,{"fill-opacity":R.opacity>1?R.opacity/100:R.opacity});case"stroke":R=o.getRGB(d),n[X](h,R.hex),"stroke"==h&&R[f]("opacity")&&je(n,{"stroke-opacity":R.opacity>1?R.opacity/100:R.opacity});break;case"gradient":(({circle:1,ellipse:1})[f](t.type)||"r"!=k(d).charAt())&&Ie(n,d,t.paper);break;case"opacity":a.gradient&&!a[f]("stroke-opacity")&&je(n,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(a.gradient){var P=p.getElementById(n.getAttribute($)[ee](/^url\(#|\)$/g,w));if(P){var j=P.getElementsByTagName("stop");j[j[N]-1][X]("stop-opacity",d)}break}default:"font-size"==h&&(d=Q(d,10)+"px");var O=h[ee](/(\-.)/g,function(t){return J.call(t.substring(1))});n.style[O]=d,n[X](h,d)}}Le(t,e),c?t.rotate(c.join(_)):U(s)&&t.rotate(s,!0)},$e=1.2,Le=function(t,e){if("text"==t.type&&(e[f]("text")||e[f]("font")||e[f]("font-size")||e[f]("x")||e[f]("y"))){var r=t.attrs,n=t.node,i=n.firstChild?Q(p.defaultView.getComputedStyle(n.firstChild,w).getPropertyValue("font-size"),10):10;if(e[f]("text")){for(r.text=e.text;n.firstChild;)n.removeChild(n.firstChild);for(var a=k(e.text)[C]("\n"),s=0,l=a[N];l>s;s++)if(a[s]){var u=je("tspan");s&&je(u,{dy:i*$e,x:r.x}),u[m](p.createTextNode(a[s])),n[m](u)}}else for(a=n.getElementsByTagName("tspan"),s=0,l=a[N];l>s;s++)s&&je(a[s],{dy:i*$e,x:r.x});je(n,{y:r.y});var c=t.getBBox(),h=r.y-(c.y+c.height/2);h&&o.is(h,"finite")&&je(n,{y:r.y+h})}},De=function(t,e){this[0]=t,this.id=o._oid++,this.node=t,t.raphael=this,this.paper=e,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},Ge=De[h];De[h].rotate=function(t,e,r){if(this.removed)return this;if(null==t)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][A](_):this._.rt.deg;var n=this.getBBox();return t=k(t)[C](l),t[N]-1&&(e=U(t[1]),r=U(t[2])),t=U(t[0]),null!=e&&e!==!1?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,e=null==e?n.x+n.width/2:e,r=null==r?n.y+n.height/2:r,this._.rt.deg?(this.transformations[0]=o.format("rotate({0} {1} {2})",this._.rt.deg,e,r),this.clip&&je(this.clip,{transform:o.format("rotate({0} {1} {2})",-this._.rt.deg,e,r)})):(this.transformations[0]=w,this.clip&&je(this.clip,{transform:w})),je(this.node,{transform:this.transformations[A](_)}),this},De[h].hide=function(){return!this.removed&&(this.node.style.display="none"),this},De[h].show=function(){return!this.removed&&(this.node.style.display=""),this},De[h].remove=function(){if(!this.removed){Se(this,this.paper),this.node.parentNode.removeChild(this.node);for(var t in this)delete this[t];this.removed=!0}},De[h].getBBox=function(){if(this.removed)return this;if("path"==this.type)return ve(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(r){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var n=0,i=this.node.getNumberOfChars();i>n;n++){var o=this.node.getExtentOfChar(n);o.y<e.y&&(e.y=o.y),o.y+o.height-e.y>e.height&&(e.height=o.y+o.height-e.y),o.x+o.width-e.x>e.width&&(e.width=o.x+o.width-e.x)}}return t&&this.hide(),e},De[h].attr=function(t,e){if(this.removed)return this;if(null==t){var r={};for(var n in this.attrs)this.attrs[f](n)&&(r[n]=this.attrs[n]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==e&&o.is(t,I))return"translation"==t?Ar.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==$&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(null==e&&o.is(t,z)){for(var i={},a=0,s=t.length;s>a;a++)i[t[a]]=this.attr(t[a]);return i}if(null!=e){var l={};l[t]=e}else null!=t&&o.is(t,"object")&&(l=t);for(var u in this.paper.customAttributes)if(this.paper.customAttributes[f](u)&&l[f](u)&&o.is(this.paper.customAttributes[u],"function")){var c=this.paper.customAttributes[u].apply(this,[][x](l[u]));this.attrs[u]=l[u];for(var h in c)c[f](h)&&(l[h]=c[h])}return Fe(this,l),this},De[h].toFront=function(){if(this.removed)return this;this.node.parentNode[m](this.node);var t=this.paper;return t.top!=this&&Be(this,t),this},De[h].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Me(this,this.paper);{this.paper}}return this},De[h].insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[m](this.node),qe(this,t,this.paper),this},De[h].insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),Re(this,t,this.paper),this},De[h].blur=function(t){var e=this;if(0!==+t){var r=je("filter"),n=je("feGaussianBlur");e.attrs.blur=t,r.id=i(),je(n,{stdDeviation:+t||1.5}),r.appendChild(n),e.paper.defs.appendChild(r),e._blur=r,je(e.node,{filter:"url(#"+r.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter")};var We=function(t,e,r,n){var i=je("circle");t.canvas&&t.canvas[m](i);var o=new De(i,t);return o.attrs={cx:e,cy:r,r:n,fill:"none",stroke:"#000"},o.type="circle",je(i,o.attrs),o},Ye=function(t,e,r,n,i,o){var a=je("rect");t.canvas&&t.canvas[m](a);var s=new De(a,t);return s.attrs={x:e,y:r,width:n,height:i,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",je(a,s.attrs),s},He=function(t,e,r,n,i){var o=je("ellipse");t.canvas&&t.canvas[m](o);var a=new De(o,t);return a.attrs={cx:e,cy:r,rx:n,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",je(o,a.attrs),a},Ve=function(t,e,r,n,i,o){var a=je("image");je(a,{x:r,y:n,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[m](a);var s=new De(a,t);return s.attrs={x:r,y:n,width:i,height:o,src:e},s.type="image",s},Xe=function(t,e,r,n){var i=je("text");je(i,{x:e,y:r,"text-anchor":"middle"}),t.canvas&&t.canvas[m](i);var o=new De(i,t);return o.attrs={x:e,y:r,"text-anchor":"middle",text:n,font:K.font,stroke:"none",fill:"#000"},o.type="text",Fe(o,o.attrs),o},Ue=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[X]("width",this.width),this.canvas[X]("height",this.height),this},Qe=function(){var t=Ae[y](0,arguments),e=t&&t.container,r=t.x,n=t.y,i=t.width,a=t.height;if(!e)throw new Error("SVG container not found.");var s=je("svg");return r=r||0,n=n||0,i=i||512,a=a||342,je(s,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:i,height:a}),1==e?(s.style.cssText="position:absolute;left:"+r+"px;top:"+n+"px",p.body[m](s)):e.firstChild?e.insertBefore(s,e.firstChild):e[m](s),e=new v,e.width=i,e.height=a,e.canvas=s,Ne.call(e,e,o.fn),e.clear(),e};s.clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=je("desc"))[m](p.createTextNode("Created with Raphaël")),t[m](this.desc),t[m](this.defs=je("defs"))},s.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Pe(t)}}if(o.vml){var Ze={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Je=/([clmz]),?([^clmz]*)/gi,Ke=/ progid:\S+Blur\([^\)]+\)/g,tr=/-?[^,\s-]+/g,er=1e3+_+1e3,rr=10,nr={path:1,rect:1},ir=function(t){var e=/[ahqstv]/gi,r=xe;if(k(t).match(e)&&(r=Te),e=/[clmz]/g,r==xe&&!k(t).match(e)){var n=k(t)[ee](Je,function(t,e,r){var n=[],i="m"==S.call(e),o=Ze[e];return r[ee](tr,function(t){i&&2==n[N]&&(o+=n+Ze["m"==e?"l":"L"],n=[]),n[D](V(t*rr))}),o+n});return n}var i,o,a=r(t);n=[];for(var s=0,l=a[N];l>s;s++){i=a[s],o=S.call(a[s][0]),"z"==o&&(o="x");for(var u=1,c=i[N];c>u;u++)o+=V(i[u]*rr)+(u!=c-1?",":w);n[D](o)}return n[A](_)};o[F]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Oe=function(t,e){var r=or("group");r.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",r.coordsize=e.coordsize,r.coordorigin=e.coordorigin;var n=or("shape"),i=n.style;i.width=e.width+"px",i.height=e.height+"px",n.coordsize=er,n.coordorigin=e.coordorigin,r[m](n);var o=new De(n,r,e),a={fill:"none",stroke:"#000"};t&&(a.path=t),o.type="path",o.path=[],o.Path=w,Fe(o,a),e.canvas[m](r);var s=or("skew");return s.on=!0,n.appendChild(s),o.skew=s,o},Fe=function(t,e){t.attrs=t.attrs||{};var r,n=t.node,i=t.attrs,s=n.style,u=(e.x!=i.x||e.y!=i.y||e.width!=i.width||e.height!=i.height||e.r!=i.r)&&"rect"==t.type,c=t;for(var h in e)e[f](h)&&(i[h]=e[h]);if(u&&(i.path=a(i.x,i.y,i.width,i.height,i.r),t.X=i.x,t.Y=i.y,t.W=i.width,t.H=i.height),e.href&&(n.href=e.href),e.title&&(n.title=e.title),e.target&&(n.target=e.target),e.cursor&&(s.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||u)&&(n.path=ir(i.path)),null!=e.rotation&&t.rotate(e.rotation,!0),e.translation&&(r=k(e.translation)[C](l),Ar.call(t,r[0],r[1]),null!=t._.rt.cx&&(t._.rt.cx+=+r[0],t._.rt.cy+=+r[1],t.setBox(t.attrs,r[0],r[1]))),e.scale&&(r=k(e.scale)[C](l),t.scale(+r[0]||1,+r[1]||+r[0]||1,+r[2]||null,+r[3]||null)),"clip-rect"in e){var d=k(e["clip-rect"])[C](l);if(4==d[N]){d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1];var g=n.clipRect||p.createElement("div"),v=g.style,y=n.parentNode;v.clip=o.format("rect({1}px {2}px {3}px {0}px)",d),n.clipRect||(v.position="absolute",v.top=0,v.left=0,v.width=t.paper.width+"px",v.height=t.paper.height+"px",y.parentNode.insertBefore(g,y),g[m](y),n.clipRect=g)}e["clip-rect"]||n.clipRect&&(n.clipRect.style.clip=w)}if("image"==t.type&&e.src&&(n.src=e.src),"image"==t.type&&e.opacity&&(n.filterOpacity=Z+".Alpha(opacity="+100*e.opacity+")",s.filter=(n.filterMatrix||w)+(n.filterOpacity||w)),e.font&&(s.font=e.font),e["font-family"]&&(s.fontFamily='"'+e["font-family"][C](",")[0][ee](/^['"]+|['"]+$/g,w)+'"'),e["font-size"]&&(s.fontSize=e["font-size"]),e["font-weight"]&&(s.fontWeight=e["font-weight"]),e["font-style"]&&(s.fontStyle=e["font-style"]),null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){n=t.shape||n;var x=n.getElementsByTagName($)&&n.getElementsByTagName($)[0],b=!1;if(!x&&(b=x=or($)),"fill-opacity"in e||"opacity"in e){var _=((+i["fill-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+o.getRGB(e.fill).o+1||2)-1);_=q(M(_,0),1),x.opacity=_}if(e.fill&&(x.on=!0),(null==x.on||"none"==e.fill)&&(x.on=!1),x.on&&e.fill){var T=e.fill.match(G);T?(x.src=T[1],x.type="tile"):(x.color=o.getRGB(e.fill).hex,x.src=w,x.type="solid",o.getRGB(e.fill).error&&(c.type in{circle:1,ellipse:1}||"r"!=k(e.fill).charAt())&&Ie(c,e.fill)&&(i.fill="none",i.gradient=e.fill))}b&&n[m](x);var E=n.getElementsByTagName("stroke")&&n.getElementsByTagName("stroke")[0],A=!1;!E&&(A=E=or("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(E.on=!0),("none"==e.stroke||null==E.on||0==e.stroke||0==e["stroke-width"])&&(E.on=!1);
var S=o.getRGB(e.stroke);E.on&&e.stroke&&(E.color=S.hex),_=((+i["stroke-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+S.o+1||2)-1);var B=.75*(U(e["stroke-width"])||1);if(_=q(M(_,0),1),null==e["stroke-width"]&&(B=i["stroke-width"]),e["stroke-width"]&&(E.weight=B),B&&1>B&&(_*=B)&&(E.weight=1),E.opacity=_,e["stroke-linejoin"]&&(E.joinstyle=e["stroke-linejoin"]||"miter"),E.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(E.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),e["stroke-dasharray"]){var R={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};E.dashstyle=R[f](e["stroke-dasharray"])?R[e["stroke-dasharray"]]:w}A&&n[m](E)}if("text"==c.type)switch(s=c.paper.span.style,i.font&&(s.font=i.font),i["font-family"]&&(s.fontFamily=i["font-family"]),i["font-size"]&&(s.fontSize=i["font-size"]),i["font-weight"]&&(s.fontWeight=i["font-weight"]),i["font-style"]&&(s.fontStyle=i["font-style"]),c.node.string&&(c.paper.span.innerHTML=k(c.node.string)[ee](/</g,"&#60;")[ee](/&/g,"&#38;")[ee](/\n/g,"<br>")),c.W=i.w=c.paper.span.offsetWidth,c.H=i.h=c.paper.span.offsetHeight,c.X=i.x,c.Y=i.y+V(c.H/2),i["text-anchor"]){case"start":c.node.style["v-text-align"]="left",c.bbx=V(c.W/2);break;case"end":c.node.style["v-text-align"]="right",c.bbx=-V(c.W/2);break;default:c.node.style["v-text-align"]="center"}},Ie=function(t,e){t.attrs=t.attrs||{};var r,n=(t.attrs,"linear"),i=".5 .5";if(t.attrs.gradient=e,e=k(e)[ee](le,function(t,e,r){return n="radial",e&&r&&(e=U(e),r=U(r),P(e-.5,2)+P(r-.5,2)>.25&&(r=B.sqrt(.25-P(e-.5,2))*(2*(r>.5)-1)+.5),i=e+_+r),w}),e=e[C](/\s*\-\s*/),"linear"==n){var o=e.shift();if(o=-U(o),isNaN(o))return null}var a=Ee(e);if(!a)return null;if(t=t.shape||t.node,r=t.getElementsByTagName($)[0]||or($),!r.parentNode&&t.appendChild(r),a[N]){r.on=!0,r.method="none",r.color=a[0].color,r.color2=a[a[N]-1].color;for(var s=[],l=0,u=a[N];u>l;l++)a[l].offset&&s[D](a[l].offset+_+a[l].color);r.colors&&(r.colors.value=s[N]?s[A]():"0% "+r.color),"radial"==n?(r.type="gradientradial",r.focus="100%",r.focussize=i,r.focusposition=i):(r.type="gradient",r.angle=(270-o)%360)}return 1},De=function(t,e,r){this[0]=t,this.id=o._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=e,this.paper=r,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},Ge=De[h],Ge.rotate=function(t,e,r){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][A](_):this._.rt.deg:(t=k(t)[C](l),t[N]-1&&(e=U(t[1]),r=U(t[2])),t=U(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,this.setBox(this.attrs,e,r),this.Group.style.rotation=this._.rt.deg,this)},Ge.setBox=function(t,e,r){if(this.removed)return this;var n=this.Group.style,i=this.shape&&this.shape.style||this.node.style;t=t||{};for(var o in t)t[f](o)&&(this.attrs[o]=t[o]);e=e||this._.rt.cx,r=r||this._.rt.cy;var a,s,l,u,c=this.attrs;switch(this.type){case"circle":a=c.cx-c.r,s=c.cy-c.r,l=u=2*c.r;break;case"ellipse":a=c.cx-c.rx,s=c.cy-c.ry,l=2*c.rx,u=2*c.ry;break;case"image":a=+c.x,s=+c.y,l=c.width||0,u=c.height||0;break;case"text":this.textpath.v=["m",V(c.x),", ",V(c.y-2),"l",V(c.x)+1,", ",V(c.y-2)][A](w),a=c.x-V(this.W/2),s=c.y-this.H/2,l=this.W,u=this.H;break;case"rect":case"path":if(this.attrs.path){var h=ve(this.attrs.path);a=h.x,s=h.y,l=h.width,u=h.height}else a=0,s=0,l=this.paper.width,u=this.paper.height;break;default:a=0,s=0,l=this.paper.width,u=this.paper.height}e=null==e?a+l/2:e,r=null==r?s+u/2:r;var p,d=e-this.paper.width/2,g=r-this.paper.height/2;n.left!=(p=d+"px")&&(n.left=p),n.top!=(p=g+"px")&&(n.top=p),this.X=nr[f](this.type)?-d:a,this.Y=nr[f](this.type)?-g:s,this.W=l,this.H=u,nr[f](this.type)?(i.left!=(p=-d*rr+"px")&&(i.left=p),i.top!=(p=-g*rr+"px")&&(i.top=p)):"text"==this.type?(i.left!=(p=-d+"px")&&(i.left=p),i.top!=(p=-g+"px")&&(i.top=p)):(n.width!=(p=this.paper.width+"px")&&(n.width=p),n.height!=(p=this.paper.height+"px")&&(n.height=p),i.left!=(p=a-d+"px")&&(i.left=p),i.top!=(p=s-g+"px")&&(i.top=p),i.width!=(p=l+"px")&&(i.width=p),i.height!=(p=u+"px")&&(i.height=p))},Ge.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},Ge.show=function(){return!this.removed&&(this.Group.style.display="block"),this},Ge.getBBox=function(){return this.removed?this:nr[f](this.type)?ve(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},Ge.remove=function(){if(!this.removed){Se(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)delete this[t];this.removed=!0}},Ge.attr=function(t,e){if(this.removed)return this;if(null==t){var r={};for(var n in this.attrs)this.attrs[f](n)&&(r[n]=this.attrs[n]);return this._.rt.deg&&(r.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(r.scale=this.scale()),r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r}if(null==e&&o.is(t,"string"))return"translation"==t?Ar.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==$&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&null==e&&o.is(t,z)){var i,a={};for(n=0,i=t[N];i>n;n++)a[t[n]]=this.attr(t[n]);return a}var s;if(null!=e&&(s={},s[t]=e),null==e&&o.is(t,"object")&&(s=t),s){for(var l in this.paper.customAttributes)if(this.paper.customAttributes[f](l)&&s[f](l)&&o.is(this.paper.customAttributes[l],"function")){var u=this.paper.customAttributes[l].apply(this,[][x](s[l]));this.attrs[l]=s[l];for(var c in u)u[f](c)&&(s[c]=u[c])}s.text&&"text"==this.type&&(this.node.string=s.text),Fe(this,s),s.gradient&&({circle:1,ellipse:1}[f](this.type)||"r"!=k(s.gradient).charAt())&&Ie(this,s.gradient),(!nr[f](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},Ge.toFront=function(){return!this.removed&&this.Group.parentNode[m](this.Group),this.paper.top!=this&&Be(this,this.paper),this},Ge.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Me(this,this.paper)),this)},Ge.insertAfter=function(t){return this.removed?this:(t.constructor==Nr&&(t=t[t.length-1]),t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[m](this.Group),qe(this,t,this.paper),this)},Ge.insertBefore=function(t){return this.removed?this:(t.constructor==Nr&&(t=t[0]),t.Group.parentNode.insertBefore(this.Group,t.Group),Re(this,t,this.paper),this)},Ge.blur=function(t){var e=this.node.runtimeStyle,r=e.filter;r=r.replace(Ke,w),0!==+t?(this.attrs.blur=t,e.filter=r+_+Z+".Blur(pixelradius="+(+t||1.5)+")",e.margin=o.format("-{0}px 0 0 -{0}px",V(+t||1.5))):(e.filter=r,e.margin=0,delete this.attrs.blur)},We=function(t,e,r,n){{var i=or("group"),o=or("oval");o.style}i.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",i.coordsize=er,i.coordorigin=t.coordorigin,i[m](o);var a=new De(o,i,t);return a.type="circle",Fe(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=r,a.attrs.r=n,a.setBox({x:e-n,y:r-n,width:2*n,height:2*n}),t.canvas[m](i),a},Ye=function(t,e,r,n,i,o){var s=a(e,r,n,i,o),l=t.path(s),u=l.attrs;return l.X=u.x=e,l.Y=u.y=r,l.W=u.width=n,l.H=u.height=i,u.r=o,u.path=s,l.type="rect",l},He=function(t,e,r,n,i){{var o=or("group"),a=or("oval");a.style}o.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",o.coordsize=er,o.coordorigin=t.coordorigin,o[m](a);var s=new De(a,o,t);return s.type="ellipse",Fe(s,{stroke:"#000"}),s.attrs.cx=e,s.attrs.cy=r,s.attrs.rx=n,s.attrs.ry=i,s.setBox({x:e-n,y:r-i,width:2*n,height:2*i}),t.canvas[m](o),s},Ve=function(t,e,r,n,i,o){var a=or("group"),s=or("image");a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=er,a.coordorigin=t.coordorigin,s.src=e,a[m](s);var l=new De(s,a,t);l.type="image",l.attrs.src=e,l.attrs.x=r,l.attrs.y=n,l.attrs.w=i,l.attrs.h=o,l.setBox({x:r,y:n,width:i,height:o}),t.canvas[m](a);var u=or("skew");return u.on=!0,s.appendChild(u),l.skew=u,l},Xe=function(t,e,r,n){var i=or("group"),a=or("shape"),s=a.style,l=or("path"),u=(l.style,or("textpath"));i.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",i.coordsize=er,i.coordorigin=t.coordorigin,l.v=o.format("m{0},{1}l{2},{1}",V(10*e),V(10*r),V(10*e)+1),l.textpathok=!0,s.width=t.width,s.height=t.height,u.string=k(n),u.on=!0,a[m](u),a[m](l),i[m](a);var c=new De(u,i,t);return c.shape=a,c.textpath=l,c.type="text",c.attrs.text=n,c.attrs.x=e,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,Fe(c,{font:K.font,stroke:"none",fill:"#000"}),c.setBox(),t.canvas[m](i),c},Ue=function(t,e){var r=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this};var or;p.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!p.namespaces.rvml&&p.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),or=function(t){return p.createElement("<rvml:"+t+' class="rvml">')}}catch(ar){or=function(t){return p.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Qe=function(){var t=Ae[y](0,arguments),e=t.container,r=t.height,n=t.width,i=t.x,a=t.y;if(!e)throw new Error("VML container not found.");var s=new v,l=s.canvas=p.createElement("div"),u=l.style;return i=i||0,a=a||0,n=n||512,r=r||342,n==+n&&(n+="px"),r==+r&&(r+="px"),s.width=1e3,s.height=1e3,s.coordsize=1e3*rr+_+1e3*rr,s.coordorigin="0 0",s.span=p.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l[m](s.span),u.cssText=o.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,r),1==e?(p.body[m](l),u.left=i+"px",u.top=a+"px",u.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e[m](l),Ne.call(s,s,o.fn),s},s.clear=function(){this.canvas.innerHTML=w,this.span=p.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[m](this.span),this.bottom=this.top=null},s.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Pe(t);return!0}}var sr=navigator.userAgent.match(/Version\/(.*?)\s/);s.safari="Apple Computer, Inc."==navigator.vendor&&(sr&&sr[1]<4||"iP"==navigator.platform.slice(0,2))?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});d.setTimeout(function(){t.remove()})}:function(){};for(var lr=function(){this.returnValue=!1},ur=function(){return this.originalEvent.preventDefault()},cr=function(){this.cancelBubble=!0},hr=function(){return this.originalEvent.stopPropagation()},fr=function(){return p.addEventListener?function(t,e,r,n){var i=b&&E[e]?E[e]:e,o=function(i){if(b&&E[f](e))for(var o=0,a=i.targetTouches&&i.targetTouches.length;a>o;o++)if(i.targetTouches[o].target==t){var s=i;i=i.targetTouches[o],i.originalEvent=s,i.preventDefault=ur,i.stopPropagation=hr;break}return r.call(n,i)};return t.addEventListener(i,o,!1),function(){return t.removeEventListener(i,o,!1),!0}}:p.attachEvent?function(t,e,r,n){var i=function(t){return t=t||d.event,t.preventDefault=t.preventDefault||lr,t.stopPropagation=t.stopPropagation||cr,r.call(n,t)};t.attachEvent("on"+e,i);var o=function(){return t.detachEvent("on"+e,i),!0};return o}:void 0}(),pr=[],dr=function(t){for(var e,r=t.clientX,n=t.clientY,i=p.documentElement.scrollTop||p.body.scrollTop,o=p.documentElement.scrollLeft||p.body.scrollLeft,a=pr.length;a--;){if(e=pr[a],b){for(var s,l=t.touches.length;l--;)if(s=t.touches[l],s.identifier==e.el._drag.id){r=s.clientX,n=s.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();r+=o,n+=i,e.move&&e.move.call(e.move_scope||e.el,r-e.el._drag.x,n-e.el._drag.y,r,n,t)}},gr=function(t){o.unmousemove(dr).unmouseup(gr);for(var e,r=pr.length;r--;)e=pr[r],e.el._drag={},e.end&&e.end.call(e.end_scope||e.start_scope||e.move_scope||e.el,t);pr=[]},vr=T[N];vr--;)(function(t){o[t]=De[h][t]=function(e,r){return o.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:fr(this.shape||this.node||p,t,e,r||this)})),this},o["un"+t]=De[h]["un"+t]=function(e){for(var r=this.events,n=r[N];n--;)if(r[n].name==t&&r[n].f==e)return r[n].unbind(),r.splice(n,1),!r.length&&delete this.events,this;return this}})(T[vr]);Ge.hover=function(t,e,r,n){return this.mouseover(t,r).mouseout(e,n||r)},Ge.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},Ge.drag=function(t,e,r,n,i,a){return this._drag={},this.mousedown(function(s){(s.originalEvent||s).preventDefault();var l=p.documentElement.scrollTop||p.body.scrollTop,u=p.documentElement.scrollLeft||p.body.scrollLeft;this._drag.x=s.clientX+u,this._drag.y=s.clientY+l,this._drag.id=s.identifier,e&&e.call(i||n||this,s.clientX+u,s.clientY+l,s),!pr.length&&o.mousemove(dr).mouseup(gr),pr.push({el:this,move:t,end:r,move_scope:n,start_scope:i,end_scope:a})}),this},Ge.undrag=function(t,e,r){for(var n=pr.length;n--;)pr[n].el==this&&pr[n].move==t&&pr[n].end==r&&pr.splice(n++,1);!pr.length&&o.unmousemove(dr).unmouseup(gr)},s.circle=function(t,e,r){return We(this,t||0,e||0,r||0)},s.rect=function(t,e,r,n,i){return Ye(this,t||0,e||0,r||0,n||0,i||0)},s.ellipse=function(t,e,r,n){return He(this,t||0,e||0,r||0,n||0)},s.path=function(t){return t&&!o.is(t,I)&&!o.is(t[0],z)&&(t+=w),Oe(o.format[y](o,arguments),this)},s.image=function(t,e,r,n,i){return Ve(this,t||"about:blank",e||0,r||0,n||0,i||0)},s.text=function(t,e,r){return Xe(this,t||0,e||0,k(r))},s.set=function(t){return arguments[N]>1&&(t=Array[h].splice.call(arguments,0,arguments[N])),new Nr(t)},s.setSize=Ue,s.top=s.bottom=null,s.raphael=o,Ge.resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,this.attrs.scale="1 1",void 0)},Ge.scale=function(t,e,n,i){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:r};e=e||t,!+e&&(e=t);var o,a,s=this.attrs;if(0!=t){var l=this.getBBox(),u=l.x+l.width/2,c=l.y+l.height/2,h=R(t/this._.sx),f=R(e/this._.sy);n=+n||0==n?n:u,i=+i||0==i?i:c;var p=this._.sx>0,d=this._.sy>0,g=~~(t/R(t)),v=~~(e/R(e)),m=h*g,y=f*v,b=this.node.style,k=n+R(u-n)*m*(u>n==p?1:-1),C=i+R(c-i)*y*(c>i==d?1:-1),T=t*g>e*v?f:h;switch(this.type){case"rect":case"image":var E=s.width*h,S=s.height*f;this.attr({height:S,r:s.r*T,width:E,x:k-E/2,y:C-S/2});break;case"circle":case"ellipse":this.attr({rx:s.rx*h,ry:s.ry*f,r:s.r*T,cx:k,cy:C});break;case"text":this.attr({x:k,y:C});break;case"path":for(var B=ye(s.path),M=!0,q=p?m:h,P=d?y:f,j=0,O=B[N];O>j;j++){var I=B[j],z=J.call(I[0]);if("M"!=z||!M)if(M=!1,"A"==z)I[B[j][N]-2]*=q,I[B[j][N]-1]*=P,I[1]*=h,I[2]*=f,I[5]=+(g+v?!!+I[5]:!+I[5]);else if("H"==z)for(var F=1,$=I[N];$>F;F++)I[F]*=q;else if("V"==z)for(F=1,$=I[N];$>F;F++)I[F]*=P;else for(F=1,$=I[N];$>F;F++)I[F]*=F%2?q:P}var L=ve(B);o=k-L.x-L.width/2,a=C-L.y-L.height/2,B[0][1]+=o,B[0][2]+=a,this.attr({path:B})}this.type in{text:1,image:1}&&(1!=g||1!=v)?this.transformations?(this.transformations[2]="scale("[x](g,",",v,")"),this.node[X]("transform",this.transformations[A](_)),o=-1==g?-s.x-(E||0):s.x,a=-1==v?-s.y-(S||0):s.y,this.attr({x:o,y:a}),s.fx=g-1,s.fy=v-1):(this.node.filterMatrix=Z+".Matrix(M11="[x](g,", M12=0, M21=0, M22=",v,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),b.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)):this.transformations?(this.transformations[2]=w,this.node[X]("transform",this.transformations[A](_)),s.fx=0,s.fy=0):(this.node.filterMatrix=w,b.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)),s.scale=[t,e,n,i][A](_),this._.sx=t,this._.sy=e}return this},Ge.clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var mr={},yr=function(t,e,r,n,i,a,s,l,u){var c,h,f=0,p=100,d=[t,e,r,n,i,a,s,l].join(),g=mr[d];if(!g&&(mr[d]=g={data:[]}),g.timer&&clearTimeout(g.timer),g.timer=setTimeout(function(){delete mr[d]},2e3),null!=u){var v=yr(t,e,r,n,i,a,s,l);p=10*~~v}for(var m=0;p+1>m;m++){if(g.data[u]>m?h=g.data[m*p]:(h=o.findDotsAtSegment(t,e,r,n,i,a,s,l,m/p),g.data[m]=h),m&&(f+=P(P(c.x-h.x,2)+P(c.y-h.y,2),.5)),null!=u&&f>=u)return h;c=h}return null==u?f:void 0},xr=function(t,e){return function(r,n,i){r=Te(r);for(var a,s,l,u,c,h="",f={},p=0,d=0,g=r.length;g>d;d++){if(l=r[d],"M"==l[0])a=+l[1],s=+l[2];else{if(u=yr(a,s,l[1],l[2],l[3],l[4],l[5],l[6]),p+u>n){if(e&&!f.start){if(c=yr(a,s,l[1],l[2],l[3],l[4],l[5],l[6],n-p),h+=["C",c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],i)return h;f.start=h,h=["M",c.x,c.y+"C",c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]][A](),p+=u,a=+l[5],s=+l[6];continue}if(!t&&!e)return c=yr(a,s,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=u,a=+l[5],s=+l[6]}h+=l}return f.end=h,c=t?p:e?f:o.findDotsAtSegment(a,s,l[1],l[2],l[3],l[4],l[5],l[6],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},br=xr(1),wr=xr(),_r=xr(0,1);Ge.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():br(this.attrs.path):void 0},Ge.getPointAtLength=function(t){return"path"==this.type?wr(this.attrs.path,t):void 0},Ge.getSubpath=function(t,e){if("path"==this.type){if(R(this.getTotalLength()-e)<"1e-6")return _r(this.attrs.path,t).end;var r=_r(this.attrs.path,e,1);return t?_r(r,t).end:r}},o.easing_formulas={linear:function(t){return t},"<":function(t){return P(t,3)},">":function(t){return P(t-1,3)+1},"<>":function(t){return t=2*t,1>t?P(t,3)/2:(t-=2,(P(t,3)+2)/2)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;var e=.3,r=e/4;return P(2,-10*t)*B.sin(2*(t-r)*j/e)+1},bounce:function(t){var e,r=7.5625,n=2.75;return 1/n>t?e=r*t*t:2/n>t?(t-=1.5/n,e=r*t*t+.75):2.5/n>t?(t-=2.25/n,e=r*t*t+.9375):(t-=2.625/n,e=r*t*t+.984375),e}};var kr=[],Cr=function(){for(var t=+new Date,e=0;e<kr[N];e++){var r=kr[e];if(!r.stop&&!r.el.removed){var n,i=t-r.start,a=r.ms,s=r.easing,l=r.from,u=r.diff,c=r.to,h=r.t,p=r.el,d={};if(a>i){var g=s(i/a);for(var v in l)if(l[f](v)){switch(te[v]){case"along":n=g*a*u[v],c.back&&(n=c.len-n);var m=wr(c[v],n);p.translate(u.sx-u.x||0,u.sy-u.y||0),u.x=m.x,u.y=m.y,p.translate(m.x-u.sx,m.y-u.sy),c.rot&&p.rotate(u.r+m.alpha,m.x,m.y);break;case O:n=+l[v]+g*a*u[v];break;case"colour":n="rgb("+[Er(V(l[v].r+g*a*u[v].r)),Er(V(l[v].g+g*a*u[v].g)),Er(V(l[v].b+g*a*u[v].b))][A](",")+")";break;case"path":n=[];for(var y=0,x=l[v][N];x>y;y++){n[y]=[l[v][y][0]];for(var b=1,k=l[v][y][N];k>b;b++)n[y][b]=+l[v][y][b]+g*a*u[v][y][b];n[y]=n[y][A](_)}n=n[A](_);break;case"csv":switch(v){case"translation":var C=g*a*u[v][0]-h.x,T=g*a*u[v][1]-h.y;h.x+=C,h.y+=T,n=C+_+T;break;case"rotation":n=+l[v][0]+g*a*u[v][0],l[v][1]&&(n+=","+l[v][1]+","+l[v][2]);break;case"scale":n=[+l[v][0]+g*a*u[v][0],+l[v][1]+g*a*u[v][1],2 in c[v]?c[v][2]:w,3 in c[v]?c[v][3]:w][A](_);break;case"clip-rect":for(n=[],y=4;y--;)n[y]=+l[v][y]+g*a*u[v][y]}break;default:var E=[].concat(l[v]);for(n=[],y=p.paper.customAttributes[v].length;y--;)n[y]=+E[y]+g*a*u[v][y]}d[v]=n}p.attr(d),p._run&&p._run.call(p)}else c.along&&(m=wr(c.along,c.len*!c.back),p.translate(u.sx-(u.x||0)+m.x-u.sx,u.sy-(u.y||0)+m.y-u.sy),c.rot&&p.rotate(u.r+m.alpha,m.x,m.y)),(h.x||h.y)&&p.translate(-h.x,-h.y),c.scale&&(c.scale+=w),p.attr(c),kr.splice(e--,1)}}o.svg&&p&&p.paper&&p.paper.safari(),kr[N]&&setTimeout(Cr)},Tr=function(t,e,r,n,i){var a=r-n;e.timeouts.push(setTimeout(function(){o.is(i,"function")&&i.call(e),e.animate(t,a,t.easing)},n))},Er=function(t){return M(q(t,255),0)},Ar=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:r};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var n=ye(this.attrs.path);n[0][1]+=+t,n[0][2]+=+e,this.attr({path:n})}return this};Ge.animateWith=function(t,e,r,n,i){for(var o=0,a=kr.length;a>o;o++)kr[o].el.id==t.id&&(e.start=kr[o].start);return this.animate(e,r,n,i)},Ge.animateAlong=e(),Ge.animateAlongBack=e(1),Ge.onAnimation=function(t){return this._run=t||0,this},Ge.animate=function(e,r,n,i){var a=this;if(a.timeouts=a.timeouts||[],(o.is(n,"function")||!n)&&(i=n||null),a.removed)return i&&i.call(a),a;var s={},u={},c=!1,h={};for(var p in e)if(e[f](p)&&(te[f](p)||a.paper.customAttributes[f](p)))switch(c=!0,s[p]=a.attr(p),null==s[p]&&(s[p]=K[p]),u[p]=e[p],te[p]){case"along":var d=br(e[p]),g=wr(e[p],d*!!e.back),v=a.getBBox();h[p]=d/r,h.tx=v.x,h.ty=v.y,h.sx=g.x,h.sy=g.y,u.rot=e.rot,u.back=e.back,u.len=d,e.rot&&(h.r=U(a.rotate())||0);break;case O:h[p]=(u[p]-s[p])/r;break;case"colour":s[p]=o.getRGB(s[p]);var m=o.getRGB(u[p]);h[p]={r:(m.r-s[p].r)/r,g:(m.g-s[p].g)/r,b:(m.b-s[p].b)/r};break;case"path":var y=Te(s[p],u[p]);s[p]=y[0];var x=y[1];h[p]=[];for(var b=0,w=s[p][N];w>b;b++){h[p][b]=[0];for(var _=1,T=s[p][b][N];T>_;_++)h[p][b][_]=(x[b][_]-s[p][b][_])/r}break;case"csv":var E=k(e[p])[C](l),A=k(s[p])[C](l);switch(p){case"translation":s[p]=[0,0],h[p]=[E[0]/r,E[1]/r];break;case"rotation":s[p]=A[1]==E[1]&&A[2]==E[2]?A:[0,E[1],E[2]],h[p]=[(E[0]-s[p][0])/r,0,0];break;case"scale":e[p]=E,s[p]=k(s[p])[C](l),h[p]=[(E[0]-s[p][0])/r,(E[1]-s[p][1])/r,0,0];break;case"clip-rect":for(s[p]=k(s[p])[C](l),h[p]=[],b=4;b--;)h[p][b]=(E[b]-s[p][b])/r}u[p]=E;break;default:for(E=[].concat(e[p]),A=[].concat(s[p]),h[p]=[],b=a.paper.customAttributes[p][N];b--;)h[p][b]=((E[b]||0)-(A[b]||0))/r}if(c){var S=o.easing_formulas[n];if(!S)if(S=k(n).match(H),S&&5==S[N]){var B=S;S=function(e){return t(e,+B[1],+B[2],+B[3],+B[4],r)}}else S=function(t){return t};kr.push({start:e.start||+new Date,ms:r,easing:S,from:s,diff:h,to:u,el:a,t:{x:0,y:0}}),o.is(i,"function")&&(a._ac=setTimeout(function(){i.call(a)},r)),1==kr[N]&&setTimeout(Cr)}else{var M,q=[];for(var R in e)e[f](R)&&re.test(R)&&(p={value:e[R]},"from"==R&&(R=0),"to"==R&&(R=100),p.key=Q(R,10),q.push(p));for(q.sort(ue),q[0].key&&q.unshift({key:0,value:a.attrs}),b=0,w=q[N];w>b;b++)Tr(q[b].value,a,r/100*q[b].key,r/100*(q[b-1]&&q[b-1].key||0),q[b-1]&&q[b-1].value.callback);M=q[q[N]-1].value.callback,M&&a.timeouts.push(setTimeout(function(){M.call(a)},r))}return this},Ge.stop=function(){for(var t=0;t<kr.length;t++)kr[t].el.id==this.id&&kr.splice(t--,1);for(t=0,ii=this.timeouts&&this.timeouts.length;ii>t;t++)clearTimeout(this.timeouts[t]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},Ge.translate=function(t,e){return this.attr({translation:t+" "+e})},Ge[F]=function(){return"Raphaël’s object"},o.ae=kr;var Nr=function(t){if(this.items=[],this[N]=0,this.type="set",t)for(var e=0,r=t[N];r>e;e++)t[e]&&(t[e].constructor==De||t[e].constructor==Nr)&&(this[this.items[N]]=this.items[this.items[N]]=t[e],this[N]++)};Nr[h][D]=function(){for(var t,e,r=0,n=arguments[N];n>r;r++)t=arguments[r],t&&(t.constructor==De||t.constructor==Nr)&&(e=this.items[N],this[e]=this.items[e]=t,this[N]++);return this},Nr[h].pop=function(){return delete this[this[N]--],this.items.pop()};for(var Sr in Ge)Ge[f](Sr)&&(Nr[h][Sr]=function(t){return function(){for(var e=0,r=this.items[N];r>e;e++)this.items[e][t][y](this.items[e],arguments);return this}}(Sr));Nr[h].attr=function(t,e){if(t&&o.is(t,z)&&o.is(t[0],"object"))for(var r=0,n=t[N];n>r;r++)this.items[r].attr(t[r]);else for(var i=0,a=this.items[N];a>i;i++)this.items[i].attr(t,e);return this},Nr[h].animate=function(t,e,r,n){(o.is(r,"function")||!r)&&(n=r||null);var i,a,s=this.items[N],l=s,u=this;for(n&&(a=function(){!--s&&n.call(u)}),r=o.is(r,I)?r:a,i=this.items[--l].animate(t,e,r,a);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(i,t,e,r,a);return this},Nr[h].insertAfter=function(t){for(var e=this.items[N];e--;)this.items[e].insertAfter(t);return this},Nr[h].getBBox=function(){for(var t=[],e=[],r=[],n=[],i=this.items[N];i--;){var o=this.items[i].getBBox();t[D](o.x),e[D](o.y),r[D](o.x+o.width),n[D](o.y+o.height)}return t=q[y](0,t),e=q[y](0,e),{x:t,y:e,width:M[y](0,r)-t,height:M[y](0,n)-e}},Nr[h].clone=function(t){t=new Nr;for(var e=0,r=this.items[N];r>e;e++)t[D](this.items[e].clone());return t},o.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var n in t.face)t.face[f](n)&&(e.face[n]=t.face[n]);if(this.fonts[r]?this.fonts[r][D](e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=Q(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[f](i)){var o=t.glyphs[i];if(e.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d[ee](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[f](a)&&(e.glyphs[i].k[a]=o.k[a])}}return t},s.getFont=function(t,e,r,n){if(n=n||"normal",r=r||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,o.fonts){var i=o.fonts[t];if(!i){var a=new RegExp("(^|\\s)"+t[ee](/[^\w\d\s+!~.:_-]/g,w)+"(\\s|$)","i");for(var s in o.fonts)if(o.fonts[f](s)&&a.test(s)){i=o.fonts[s];break}}var l;if(i)for(var u=0,c=i[N];c>u&&(l=i[u],l.face["font-weight"]!=e||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=n);u++);return l}},s.print=function(t,e,r,n,i,a,s){a=a||"middle",s=M(q(s||0,1),-1);var u,c=this.set(),h=k(r)[C](w),f=0;if(o.is(n,r)&&(n=this.getFont(n)),n){u=(i||16)/n.face["units-per-em"];for(var p=n.face.bbox.split(l),d=+p[0],g=+p[1]+("baseline"==a?p[3]-p[1]+ +n.face.descent:(p[3]-p[1])/2),v=0,m=h[N];m>v;v++){var y=v&&n.glyphs[h[v-1]]||{},x=n.glyphs[h[v]];f+=v?(y.w||n.w)+(y.k&&y.k[h[v]]||0)+n.w*s:0,x&&x.d&&c[D](this.path(x.d).attr({fill:"#000",stroke:"none",translation:[f,0]}))}c.scale(u,u,d,g).translate(t-d,e-g)}return c},o.format=function(t,e){var r=o.is(e,z)?[0][x](e):arguments;return t&&o.is(t,I)&&r[N]-1&&(t=t[ee](c,function(t,e){return null==r[++e]?w:r[e]})),t||w},o.ninja=function(){return g.was?d.Raphael=g.is:delete Raphael,o},o.el=Ge,o.st=Nr[h],g.was?d.Raphael=o:Raphael=o}();